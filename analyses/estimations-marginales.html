<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>guide-R - 23&nbsp; Prédictions marginales, contrastes marginaux &amp; effets marginaux</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../analyses/contrastes.html" rel="next">
<link href="../analyses/regression-logistique-binaire.html" rel="prev">
<link href="../ressources/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-8BT7D9P85Y"></script><script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-8BT7D9P85Y', { 'anonymize_ip': true});
</script><script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  });
});
</script><style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="../styles.css">
</head>
<body class="nav-sidebar floating slimcontent">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Prédictions marginales, contrastes marginaux &amp; effets marginaux</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../ressources/typewriter.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">guide-R</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/larmarange/guide-R/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="../guide-R.pdf" title="Download PDF" class="sidebar-tool px-1"><i class="bi bi-file-pdf"></i></a>
    <a href="" title="Share" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-share"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
<li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
            <i class="bi bi-bi-twitter pe-1"></i>
          Twitter
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
            <i class="bi bi-bi-facebook pe-1"></i>
          Facebook
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
            <i class="bi bi-bi-linkedin pe-1"></i>
          LinkedIn
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Préface</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true"><strong>Bases du langage</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bases/packages.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Packages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bases/vecteurs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Vecteurs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bases/listes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Listes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bases/tableaux_donnees.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Tableaux de données</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bases/tibbles.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Tibbles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bases/attributs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Attributs</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true"><strong>Manipulation de données</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/pipe.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Le pipe</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/dplyr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title"><code>dplyr</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/facteurs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Facteurs et <code>forcats</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/combiner-variables.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Combiner plusieurs variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/etiquettes-variables.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Étiquettes de variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/etiquettes-valeurs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Étiquettes de valeurs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/valeurs-manquantes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Valeurs manquantes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/import-export.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Import &amp; Export de données</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/formater-nombre.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Mettre en forme des nombres</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation/couleurs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Couleurs &amp; Palettes</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true"><strong>Analyses</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/ggplot2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Graphiques avec <code>ggplot2</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/statistique-univariee.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Statistique univariée &amp; Intervalles de confiance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/statistique-bivariee.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Statistique bivariée &amp; Tests de comparaison</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/likert.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Échelles de Likert</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/regression-lineaire.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Régression linéaire</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/regression-logistique-binaire.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Régression logistique binaire</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/estimations-marginales.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Prédictions marginales, contrastes marginaux &amp; effets marginaux</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/contrastes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Contrastes (variables catégorielles)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/interactions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Interactions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analyses/multicolinearite.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Multicolinéarité</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true"><strong>Données pondérées avec <code>survey</code></strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../donnees_ponderees/plan-echantillonnage.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Définir un plan d’échantillonnage</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../donnees_ponderees/manipulation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Manipulation de données pondérées</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../donnees_ponderees/analyses-bivariees.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Analyses uni- et bivariées pondérées</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../donnees_ponderees/graphiques-ponderes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Graphiques pondérés</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../donnees_ponderees/regression-logistique-binaire-ponderee.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Régression logistique binaire pondérée</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true"><strong>Manipulation avancée</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation_avancee/fusion_tables.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Fusion de tables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation_avancee/dates.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Dates avec <code>lubridate</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../manipulation_avancee/tidyr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Réorganisation avec <code>tidyr</code></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table des matières</h2>
   
  <ul>
<li><a href="#terminologie" id="toc-terminologie" class="nav-link active" data-scroll-target="#terminologie"><span class="toc-section-number">23.1</span>  Terminologie</a></li>
  <li><a href="#donn%C3%A9es-dillustration" id="toc-données-dillustration" class="nav-link" data-scroll-target="#donn%C3%A9es-dillustration"><span class="toc-section-number">23.2</span>  Données d’illustration</a></li>
  <li>
<a href="#sec-predictions-marginales" id="toc-sec-predictions-marginales" class="nav-link" data-scroll-target="#sec-predictions-marginales"><span class="toc-section-number">23.3</span>  Prédictions marginales</a>
  <ul class="collapse">
<li><a href="#pr%C3%A9dictions-marginales-moyennes" id="toc-prédictions-marginales-moyennes" class="nav-link" data-scroll-target="#pr%C3%A9dictions-marginales-moyennes"><span class="toc-section-number">23.3.1</span>  Prédictions marginales moyennes</a></li>
  <li><a href="#pr%C3%A9dictions-marginales-%C3%A0-la-moyenne" id="toc-prédictions-marginales-à-la-moyenne" class="nav-link" data-scroll-target="#pr%C3%A9dictions-marginales-%C3%A0-la-moyenne"><span class="toc-section-number">23.3.2</span>  Prédictions marginales à la moyenne</a></li>
  <li><a href="#variantes" id="toc-variantes" class="nav-link" data-scroll-target="#variantes"><span class="toc-section-number">23.3.3</span>  Variantes</a></li>
  </ul>
</li>
  <li>
<a href="#contrastes-marginaux" id="toc-contrastes-marginaux" class="nav-link" data-scroll-target="#contrastes-marginaux"><span class="toc-section-number">23.4</span>  Contrastes marginaux</a>
  <ul class="collapse">
<li><a href="#contrastes-marginaux-moyens" id="toc-contrastes-marginaux-moyens" class="nav-link" data-scroll-target="#contrastes-marginaux-moyens"><span class="toc-section-number">23.4.1</span>  Contrastes marginaux moyens</a></li>
  <li><a href="#contrastes-marginaux-%C3%A0-la-moyenne" id="toc-contrastes-marginaux-à-la-moyenne" class="nav-link" data-scroll-target="#contrastes-marginaux-%C3%A0-la-moyenne"><span class="toc-section-number">23.4.2</span>  Contrastes marginaux à la moyenne</a></li>
  </ul>
</li>
  <li>
<a href="#pentes-marginales-effets-marginaux" id="toc-pentes-marginales-effets-marginaux" class="nav-link" data-scroll-target="#pentes-marginales-effets-marginaux"><span class="toc-section-number">23.5</span>  Pentes marginales / Effets marginaux</a>
  <ul class="collapse">
<li><a href="#pentes-marginales-moyennes-effets-marginaux-moyens" id="toc-pentes-marginales-moyennes-effets-marginaux-moyens" class="nav-link" data-scroll-target="#pentes-marginales-moyennes-effets-marginaux-moyens"><span class="toc-section-number">23.5.1</span>  Pentes marginales moyennes / Effets marginaux moyens</a></li>
  <li><a href="#pentes-marginales-%C3%A0-la-moyenne-effets-marginaux-%C3%A0-la-moyenne" id="toc-pentes-marginales-à-la-moyenne-effets-marginaux-à-la-moyenne" class="nav-link" data-scroll-target="#pentes-marginales-%C3%A0-la-moyenne-effets-marginaux-%C3%A0-la-moyenne"><span class="toc-section-number">23.5.2</span>  Pentes marginales à la moyenne / Effets marginaux à la moyenne</a></li>
  </ul>
</li>
  <li><a href="#lectures-compl%C3%A9menaires-en-anglais" id="toc-lectures-complémenaires-en-anglais" class="nav-link" data-scroll-target="#lectures-compl%C3%A9menaires-en-anglais"><span class="toc-section-number">23.6</span>  Lectures complémenaires (en anglais)</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/larmarange/guide-R/blob/main/analyses/estimations-marginales.qmd" class="toc-action">Voir la source</a></p><p><a href="https://github.com/larmarange/guide-R/issues/new" class="toc-action">Faire part d'un problème</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-estimations-marginales" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Prédictions marginales, contrastes marginaux &amp; effets marginaux</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Avertissement
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ce chapitre nécessite une version récente de <a href="https://larmarange.github.io/broom.helpers/">broom.helpers</a> (version ≥&nbsp;1.12.0), de <a href="https://github.com/ddsjoberg/gtsummary">gtsummary</a> (version ≥&nbsp;1.6.3), de <a href="https://larmarange.github.io/ggstats/">ggstats</a> (version ≥&nbsp;0.2.1) et de <a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a> (version ≥ 0.10.0).</p>
</div>
</div>
<p>Les coefficients d’une régression multivariée ne sont pas toujours facile à interpréter car ils ne sont pas forcément exprimés dans la même dimension que la variable d’intérêt. C’est notamment le cas pour une régression logistique binaire (cf. <a href="#sec-regression-logistique-binaire"><span class="quarto-unresolved-ref">sec-regression-logistique-binaire</span></a>). Comment traduire la valeur d’un <em>odds ratio</em> en écart de probabilité&nbsp;?</p>
<p>Dans certaines disciplines, notamment en économétrie, on préfère souvent présenter les <q>effets marginaux</q> qui tentent de traduire les résultats du modèle dans la dimension de la variable d’intérêt. Plusieurs approches existent et l’on trouve dans la littérature des expressions telles que <q>effets marginaux</q>, <q>effets statistiques</q>, <q>moyennes marginales</q>, <q>pentes marginales</q>, <q>effets marginaux à la moyenne</q>, et autres expressions similaires.</p>
<p>Différents auteurs peuvent utiliser la même expression pour désigner des indicateurs différents, ou bien des manières différentes de les calculer.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Si vous n’êtes pas familier des estimations marginales et souhaitez aller à l’essentiel, vous pouvez, en première lecture, vous concentrer sur les prédications marginales moyennes et les contrastes marginaux moyens, avant d’explorer les autres variantes.</p>
</div>
</div>
<section id="terminologie" class="level2" data-number="23.1"><h2 data-number="23.1" class="anchored" data-anchor-id="terminologie">
<span class="header-section-number">23.1</span> Terminologie</h2>
<p>Dans ce guide, nous avons décidé d’adopter une terminologie consistante avec celle du package <a href="https://larmarange.github.io/broom.helpers/">broom.helpers</a>, elle même basée sur celle du package <a href="https://vincentarelbundock.github.io/marginaleffects/#definitions"><code>{marginaleffects}</code></a>, dont la première version a été publié en septembre 2021, et avec le <a href="https://www.andrewheiss.com/blog/2022/05/20/marginalia/">billet d’Andrew Heiss intitulé <em>Marginalia</em></a> et publié en mai 2022.</p>
<p>Lorsque l’on utilise un modèle ajusté pour prédire l’<em>outcome</em> selon certaines combinaisons de valeurs des régresseurs / variables explicatives, par exemple leurs valeurs observées ou leur moyenne, on obtient des <strong>prédictions ajustées</strong>. Lorsque ces dernières sont moyennées selon un régresseur spécifique, nous parlerons alors de <strong>prédictions marginales</strong>.</p>
<p>Les <strong>contrastes marginaux</strong> correspondent au calcul d’une différence entre des prédictions marginales, que ce soit pour une variable catégorielle (e.g.&nbsp;différence entre deux modalités) ou pour une variable continue (différence observée au niveau de l’<em>outcome</em> pour un certain changement du prédicteur).</p>
<p>Les <strong>pentes marginales</strong> ou <strong>effets marginaux</strong> sont définis, pour des variables continues, comme la dérivée partielle (<em>slope</em>) de l’équation de régression pour certains valeurs de la variable explicative. Dit autrement, un effet marginal correspond à la pente locale de la fonction de régression pour certaines valeurs choisies d’un prédicteur continue. De manière pratique, les effets marginaux sont similaires aux contrastes marginaux.</p>
<p>L’ensemble de ces indicateurs marginaux se calculent pour certaines valeurs <q>typiques</q> des variables explicatives, avec plusieurs approches possibles pour définir des valeurs <q>typiques</q>&nbsp;: moyenne / mode, valeurs observées, valeurs personnalisées…</p>
<p>Nous présenterons ces différents concepts plus en détail dans la suite de ce chapitre.</p>
<p>Plusieurs packages proposent des fonctions pour le calcul d’estimations marginales, <a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a>, <a href="https://github.com/rvlenth/emmeans">emmeans</a>, <a href="https://github.com/leeper/margins">margins</a>, <a href="https://www.r-project.org">effects</a>, ou encore <a href="https://strengejacke.github.io/ggeffects/">ggeffects</a>, chacun avec des approches et un vocabulaire légèrement différent.</p>
<p>Le package <a href="https://larmarange.github.io/broom.helpers/">broom.helpers</a> fournit plusieurs <q><em>tidiers</em></q> qui permettent d’appeler les fonctions de ces autres packages et de renvoyer un tableau de données compatible avec la fonction <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_plus_plus.html">broom.helpers::tidy_plus_plus()</a></code> et dès lors de pouvoir générer un tableau mis en forme avec <code><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_regression.html">gtsummary::tbl_regression()</a></code> ou un graphique avec <code><a href="https://larmarange.github.io/ggstats/reference/ggcoef_model.html">ggstats::ggcoef_model()</a></code>.</p>
</section><section id="données-dillustration" class="level2 page-columns page-full" data-number="23.2"><h2 data-number="23.2" class="anchored" data-anchor-id="données-dillustration">
<span class="header-section-number">23.2</span> Données d’illustration</h2>
<p>Pour illustrer ce chapitre, nous allons reprendre le modèle réduit utilisé dans le chapitre sur la régression logistique binaire (cf. <a href="#sec-regression-logistique-binaire"><span class="quarto-unresolved-ref">sec-regression-logistique-binaire</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(labelled)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">theme_gtsummary_language</span>(</span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="st">"fr"</span>,</span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="at">decimal.mark =</span> <span class="st">","</span>,</span>
<span id="cb1-7"><a href="#cb1-7"></a>  <span class="at">big.mark =</span> <span class="st">" "</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>)</span>
<span id="cb1-9"><a href="#cb1-9"></a></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">data</span>(hdv2003, <span class="at">package =</span> <span class="st">"questionr"</span>)</span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a>d <span class="ot">&lt;-</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>  hdv2003 <span class="sc">|&gt;</span> </span>
<span id="cb1-14"><a href="#cb1-14"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-15"><a href="#cb1-15"></a>    <span class="at">sexe =</span> sexe <span class="sc">|&gt;</span> <span class="fu">fct_relevel</span>(<span class="st">"Femme"</span>),</span>
<span id="cb1-16"><a href="#cb1-16"></a>    <span class="at">groupe_ages =</span> age <span class="sc">|&gt;</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>      <span class="fu">cut</span>(</span>
<span id="cb1-18"><a href="#cb1-18"></a>        <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">25</span>, <span class="dv">45</span>, <span class="dv">65</span>, <span class="dv">99</span>),</span>
<span id="cb1-19"><a href="#cb1-19"></a>        <span class="at">right =</span> <span class="cn">FALSE</span>,</span>
<span id="cb1-20"><a href="#cb1-20"></a>        <span class="at">include.lowest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-21"><a href="#cb1-21"></a>        <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"18-24 ans"</span>, <span class="st">"25-44 ans"</span>,</span>
<span id="cb1-22"><a href="#cb1-22"></a>                   <span class="st">"45-64 ans"</span>, <span class="st">"65 ans et plus"</span>)</span>
<span id="cb1-23"><a href="#cb1-23"></a>      ),</span>
<span id="cb1-24"><a href="#cb1-24"></a>    <span class="at">etudes =</span> nivetud <span class="sc">|&gt;</span> </span>
<span id="cb1-25"><a href="#cb1-25"></a>      <span class="fu">fct_recode</span>(</span>
<span id="cb1-26"><a href="#cb1-26"></a>        <span class="st">"Primaire"</span> <span class="ot">=</span> <span class="st">"N'a jamais fait d'etudes"</span>,</span>
<span id="cb1-27"><a href="#cb1-27"></a>        <span class="st">"Primaire"</span> <span class="ot">=</span> <span class="st">"A arrete ses etudes, avant la derniere annee d'etudes primaires"</span>,</span>
<span id="cb1-28"><a href="#cb1-28"></a>        <span class="st">"Primaire"</span> <span class="ot">=</span> <span class="st">"Derniere annee d'etudes primaires"</span>,</span>
<span id="cb1-29"><a href="#cb1-29"></a>        <span class="st">"Secondaire"</span> <span class="ot">=</span> <span class="st">"1er cycle"</span>,</span>
<span id="cb1-30"><a href="#cb1-30"></a>        <span class="st">"Secondaire"</span> <span class="ot">=</span> <span class="st">"2eme cycle"</span>,</span>
<span id="cb1-31"><a href="#cb1-31"></a>        <span class="st">"Technique / Professionnel"</span> <span class="ot">=</span> <span class="st">"Enseignement technique ou professionnel court"</span>,</span>
<span id="cb1-32"><a href="#cb1-32"></a>        <span class="st">"Technique / Professionnel"</span> <span class="ot">=</span> <span class="st">"Enseignement technique ou professionnel long"</span>,</span>
<span id="cb1-33"><a href="#cb1-33"></a>        <span class="st">"Supérieur"</span> <span class="ot">=</span> <span class="st">"Enseignement superieur y compris technique superieur"</span></span>
<span id="cb1-34"><a href="#cb1-34"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb1-35"><a href="#cb1-35"></a>    <span class="fu">fct_na_value_to_level</span>(<span class="st">"Non documenté"</span>)  </span>
<span id="cb1-36"><a href="#cb1-36"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb1-37"><a href="#cb1-37"></a>  <span class="fu">set_variable_labels</span>(</span>
<span id="cb1-38"><a href="#cb1-38"></a>    <span class="at">sport =</span> <span class="st">"Pratique un sport ?"</span>,</span>
<span id="cb1-39"><a href="#cb1-39"></a>    <span class="at">sexe =</span> <span class="st">"Sexe"</span>,</span>
<span id="cb1-40"><a href="#cb1-40"></a>    <span class="at">groupe_ages =</span> <span class="st">"Groupe d'âges"</span>,</span>
<span id="cb1-41"><a href="#cb1-41"></a>    <span class="at">etudes =</span> <span class="st">"Niveau d'études"</span>,</span>
<span id="cb1-42"><a href="#cb1-42"></a>    <span class="at">heures.tv =</span> <span class="st">"Heures de télévision / jour"</span></span>
<span id="cb1-43"><a href="#cb1-43"></a>  )</span>
<span id="cb1-44"><a href="#cb1-44"></a></span>
<span id="cb1-45"><a href="#cb1-45"></a>mod <span class="ot">&lt;-</span> <span class="fu">glm</span>(</span>
<span id="cb1-46"><a href="#cb1-46"></a>  sport <span class="sc">~</span> sexe <span class="sc">+</span> groupe_ages <span class="sc">+</span> etudes <span class="sc">+</span> heures.tv,</span>
<span id="cb1-47"><a href="#cb1-47"></a>  <span class="at">family =</span> binomial,</span>
<span id="cb1-48"><a href="#cb1-48"></a>  <span class="at">data =</span> d</span>
<span id="cb1-49"><a href="#cb1-49"></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">tbl_regression</span>(<span class="at">exponentiate =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="fu">bold_labels</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="tbl-rappel-model" class="anchored page-columns page-full">

<div id="rjgnmlrgnn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#rjgnmlrgnn) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#rjgnmlrgnn) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#rjgnmlrgnn) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#rjgnmlrgnn) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#rjgnmlrgnn) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#rjgnmlrgnn) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#rjgnmlrgnn) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#rjgnmlrgnn) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#rjgnmlrgnn) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#rjgnmlrgnn) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#rjgnmlrgnn) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#rjgnmlrgnn) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#rjgnmlrgnn) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#rjgnmlrgnn) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjgnmlrgnn) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#rjgnmlrgnn) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#rjgnmlrgnn) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjgnmlrgnn) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#rjgnmlrgnn) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjgnmlrgnn) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#rjgnmlrgnn) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjgnmlrgnn) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#rjgnmlrgnn) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjgnmlrgnn) .gt_left {
  text-align: left;
}

:where(#rjgnmlrgnn) .gt_center {
  text-align: center;
}

:where(#rjgnmlrgnn) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#rjgnmlrgnn) .gt_font_normal {
  font-weight: normal;
}

:where(#rjgnmlrgnn) .gt_font_bold {
  font-weight: bold;
}

:where(#rjgnmlrgnn) .gt_font_italic {
  font-style: italic;
}

:where(#rjgnmlrgnn) .gt_super {
  font-size: 65%;
}

:where(#rjgnmlrgnn) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#rjgnmlrgnn) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#rjgnmlrgnn) .gt_indent_1 {
  text-indent: 5px;
}

:where(#rjgnmlrgnn) .gt_indent_2 {
  text-indent: 10px;
}

:where(#rjgnmlrgnn) .gt_indent_3 {
  text-indent: 15px;
}

:where(#rjgnmlrgnn) .gt_indent_4 {
  text-indent: 20px;
}

:where(#rjgnmlrgnn) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">

  
  <thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>OR</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>OR</strong><sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-valeur</strong>"><strong>p-valeur</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Sexe</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Femme</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Homme</td>
<td headers="estimate" class="gt_row gt_center">1,52</td>
<td headers="ci" class="gt_row gt_center">1,24 – 1,87</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">0,68</td>
<td headers="ci" class="gt_row gt_center">0,43 – 1,06</td>
<td headers="p.value" class="gt_row gt_center">0,084</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans</td>
<td headers="estimate" class="gt_row gt_center">0,36</td>
<td headers="ci" class="gt_row gt_center">0,23 – 0,57</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus</td>
<td headers="estimate" class="gt_row gt_center">0,27</td>
<td headers="ci" class="gt_row gt_center">0,16 – 0,46</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primaire</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire</td>
<td headers="estimate" class="gt_row gt_center">2,54</td>
<td headers="ci" class="gt_row gt_center">1,73 – 3,75</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel</td>
<td headers="estimate" class="gt_row gt_center">2,81</td>
<td headers="ci" class="gt_row gt_center">1,95 – 4,10</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur</td>
<td headers="estimate" class="gt_row gt_center">6,55</td>
<td headers="ci" class="gt_row gt_center">4,50 – 9,66</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté</td>
<td headers="estimate" class="gt_row gt_center">8,54</td>
<td headers="ci" class="gt_row gt_center">4,51 – 16,5</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center">0,89</td>
<td headers="ci" class="gt_row gt_center">0,83 – 0,95</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="4">
<sup class="gt_footnote_marks">1</sup> OR = rapport de cotes, IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;23.1:  Odds Ratios du modèle logistique </div></div>
</div>
</div>
</div>
<p>Il faut se rappeler que pour calculer le modèle, les observations ayant au moins une valeur manquante ont été exclues. Le modèle n’a donc pas été calculé sur 2000 observations (nombre de lignes de <code>hdv2003</code>) mais sur 1995. On peut obtenir le tableau de données du modèle (<em>model frame</em>), qui ne contient que les variables et les observations utilisées, avec <code><a href="https://larmarange.github.io/broom.helpers/reference/model_get_model_frame.html">broom.helpers::model_get_model_frame()</a></code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>mf <span class="ot">&lt;-</span> mod <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  broom.helpers<span class="sc">::</span><span class="fu">model_get_model_frame</span>()</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">nrow</span>(mf)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1995</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">colnames</span>(mf)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "sport"       "sexe"        "groupe_ages" "etudes"      "heures.tv"  </code></pre>
</div>
</div>
</section><section id="sec-predictions-marginales" class="level2 page-columns page-full" data-number="23.3"><h2 data-number="23.3" class="anchored" data-anchor-id="sec-predictions-marginales">
<span class="header-section-number">23.3</span> Prédictions marginales</h2>
<section id="prédictions-marginales-moyennes" class="level3 page-columns page-full" data-number="23.3.1"><h3 data-number="23.3.1" class="anchored" data-anchor-id="prédictions-marginales-moyennes">
<span class="header-section-number">23.3.1</span> Prédictions marginales moyennes</h3>
<p>Pour illustrer et mieux comprendre ce que représente la différence entre les femmes et les hommes, nous allons effectuer des prédictions avec notre modèle en ne faisant varier que la variable <em>sexe</em>.</p>
<p>Une première approche consiste à dupliquer nos données observées et à supposer que tous les individus sont des femmes, puis à supposer que tous les individus sont des hommes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>mf_femmes <span class="ot">&lt;-</span> mf <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">sexe =</span> <span class="st">"Femme"</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a>mf_hommes <span class="ot">&lt;-</span> mf <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">sexe =</span> <span class="st">"Homme"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nos deux jeux de données sont donc identiques pour toutes les autres variables et ne varient que pour le <em>sexe</em>. Nous pouvons maintenant prédire, à partir de notre modèle ajusté, la probabilité de faire du sport de chacun des individus de ces deux nouveaux jeux de données, puis à en calculer la moyenne.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>mod <span class="sc">|&gt;</span> <span class="fu">predict</span>(<span class="at">type =</span> <span class="st">"response"</span>, <span class="at">newdata =</span> mf_femmes) <span class="sc">|&gt;</span> <span class="fu">mean</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.324814</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>mod <span class="sc">|&gt;</span> <span class="fu">predict</span>(<span class="at">type =</span> <span class="st">"response"</span>, <span class="at">newdata =</span> mf_hommes) <span class="sc">|&gt;</span> <span class="fu">mean</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4036624</code></pre>
</div>
</div>
<p>Nous obtenons ainsi des <strong>prédictions marginales moyennes</strong>, <em>average marginal predictions</em> en anglais, de respectivement 32% et 40% pour les femmes et pour les hommes.</p>
<p>Le même résultat, avec en plus un intervalle de confiance, peut s’obtenir avec <code><a href="https://rdrr.io/pkg/marginaleffects/man/predictions.html">marginaleffects::predictions()</a></code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">library</span>(marginaleffects)</span>
<span id="cb12-2"><a href="#cb12-2"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="fu">predictions</span>(<span class="at">variables =</span> <span class="st">"sexe"</span>, <span class="at">by =</span> <span class="st">"sexe"</span>, <span class="at">type =</span> <span class="st">"response"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  sexe Estimate Std. Error    z Pr(&gt;|z|) 2.5 % 97.5 %
 Femme    0.325     0.0130 25.0   &lt;0.001 0.299  0.350
 Homme    0.404     0.0147 27.5   &lt;0.001 0.375  0.432

Columns: sexe, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
</div>
<p>Pour une variable continue, on peut procéder de la même manière en générant des prédictions marginales pour certaines valeurs de la variable. Par défaut, <code><a href="https://rdrr.io/pkg/marginaleffects/man/predictions.html">marginaleffects::predictions()</a></code> réalise des prédictions selon les 5 nombres de Tukey (<em>Tukey’s five numbers</em>, à savoir minimum, premier quartile, médiane, troisième quartile et maximum).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="fu">predictions</span>(<span class="at">variables =</span> <span class="st">"heures.tv"</span>, <span class="at">by =</span> <span class="st">"heures.tv"</span>, <span class="at">type =</span> <span class="st">"response"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 heures.tv Estimate Std. Error     z Pr(&gt;|z|)  2.5 % 97.5 %
         0    0.410    0.01711 23.96   &lt;0.001 0.3764  0.443
         1    0.386    0.01220 31.64   &lt;0.001 0.3621  0.410
         2    0.363    0.00991 36.58   &lt;0.001 0.3432  0.382
         3    0.340    0.01145 29.66   &lt;0.001 0.3173  0.362
        12    0.168    0.04220  3.99   &lt;0.001 0.0855  0.251

Columns: heures.tv, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
</div>
<div class="page-columns page-full"><p>Le package <a href="https://larmarange.github.io/broom.helpers/">broom.helpers</a> fournit la fonction <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_predictions.html">broom.helpers::tidy_marginal_predictions()</a></code> qui génèrent les prédictions marginales de chaque variable<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> avec <code><a href="https://rdrr.io/pkg/marginaleffects/man/predictions.html">marginaleffects::predictions()</a></code> et renvoie les résultat dans un format directement utilisable avec <code><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_regression.html">gtsummary::tbl_regression()</a></code>.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;La fonction <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_predictions.html">broom.helpers::tidy_marginal_predictions()</a></code> peut également gérer des combinaisons de variables ou interactions, voir <a href="#sec-interactions"><span class="quarto-unresolved-ref">sec-interactions</span></a>).</p></li></div></div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Il est à noter que <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_predictions.html">broom.helpers::tidy_marginal_predictions()</a></code> renvoie des p-valeurs qui, par défaut, teste si les valeurs prédites sont différentes de 0 (sur l’échelle de la fonction de lien, donc différentes de 50% dans le cas d’une régression logistique). Ce type de tests n’est pas vraiment pertinent dans le cas présent. On peut facilement masquer la colonne des p-valeurs avec <code>modify_column_hide("p.value")</code>.</p>
</div>
</div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb16-3"><a href="#cb16-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_marginal_predictions,</span>
<span id="cb16-4"><a href="#cb16-4"></a>    <span class="at">type =</span> <span class="st">"response"</span>,</span>
<span id="cb16-5"><a href="#cb16-5"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb16-6"><a href="#cb16-6"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="fu">bold_labels</span>() <span class="sc">|&gt;</span> </span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="fu">modify_column_hide</span>(<span class="st">"p.value"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="tbl-predictions-marginales-moyennes" class="anchored page-columns page-full">

<div id="ivwmxmqhyl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#ivwmxmqhyl) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#ivwmxmqhyl) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#ivwmxmqhyl) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#ivwmxmqhyl) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#ivwmxmqhyl) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#ivwmxmqhyl) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#ivwmxmqhyl) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#ivwmxmqhyl) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#ivwmxmqhyl) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#ivwmxmqhyl) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ivwmxmqhyl) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#ivwmxmqhyl) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#ivwmxmqhyl) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#ivwmxmqhyl) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ivwmxmqhyl) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#ivwmxmqhyl) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#ivwmxmqhyl) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ivwmxmqhyl) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#ivwmxmqhyl) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ivwmxmqhyl) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#ivwmxmqhyl) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ivwmxmqhyl) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ivwmxmqhyl) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ivwmxmqhyl) .gt_left {
  text-align: left;
}

:where(#ivwmxmqhyl) .gt_center {
  text-align: center;
}

:where(#ivwmxmqhyl) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#ivwmxmqhyl) .gt_font_normal {
  font-weight: normal;
}

:where(#ivwmxmqhyl) .gt_font_bold {
  font-weight: bold;
}

:where(#ivwmxmqhyl) .gt_font_italic {
  font-style: italic;
}

:where(#ivwmxmqhyl) .gt_super {
  font-size: 65%;
}

:where(#ivwmxmqhyl) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#ivwmxmqhyl) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#ivwmxmqhyl) .gt_indent_1 {
  text-indent: 5px;
}

:where(#ivwmxmqhyl) .gt_indent_2 {
  text-indent: 10px;
}

:where(#ivwmxmqhyl) .gt_indent_3 {
  text-indent: 15px;
}

:where(#ivwmxmqhyl) .gt_indent_4 {
  text-indent: 20px;
}

:where(#ivwmxmqhyl) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">

  
  <thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Average Marginal Predictions</strong>"><strong>Average Marginal Predictions</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Sexe</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Femme</td>
<td headers="estimate" class="gt_row gt_center">32.5%</td>
<td headers="ci" class="gt_row gt_center">29.9% – 35.0%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Homme</td>
<td headers="estimate" class="gt_row gt_center">40.4%</td>
<td headers="ci" class="gt_row gt_center">37.5% – 43.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">51.2%</td>
<td headers="ci" class="gt_row gt_center">42.2% – 60.1%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">42.7%</td>
<td headers="ci" class="gt_row gt_center">39.3% – 46.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans</td>
<td headers="estimate" class="gt_row gt_center">29.9%</td>
<td headers="ci" class="gt_row gt_center">26.6% – 33.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus</td>
<td headers="estimate" class="gt_row gt_center">24.9%</td>
<td headers="ci" class="gt_row gt_center">19.7% – 30.0%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primaire</td>
<td headers="estimate" class="gt_row gt_center">16.1%</td>
<td headers="ci" class="gt_row gt_center">11.9% – 20.4%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire</td>
<td headers="estimate" class="gt_row gt_center">31.8%</td>
<td headers="ci" class="gt_row gt_center">27.2% – 36.4%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel</td>
<td headers="estimate" class="gt_row gt_center">34.0%</td>
<td headers="ci" class="gt_row gt_center">30.3% – 37.7%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur</td>
<td headers="estimate" class="gt_row gt_center">53.2%</td>
<td headers="ci" class="gt_row gt_center">48.4% – 57.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté</td>
<td headers="estimate" class="gt_row gt_center">59.2%</td>
<td headers="ci" class="gt_row gt_center">47.0% – 71.5%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;0</td>
<td headers="estimate" class="gt_row gt_center">41.0%</td>
<td headers="ci" class="gt_row gt_center">37.6% – 44.3%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1</td>
<td headers="estimate" class="gt_row gt_center">38.6%</td>
<td headers="ci" class="gt_row gt_center">36.2% – 41.0%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2</td>
<td headers="estimate" class="gt_row gt_center">36.3%</td>
<td headers="ci" class="gt_row gt_center">34.3% – 38.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3</td>
<td headers="estimate" class="gt_row gt_center">34.0%</td>
<td headers="ci" class="gt_row gt_center">31.7% – 36.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;12</td>
<td headers="estimate" class="gt_row gt_center">16.8%</td>
<td headers="ci" class="gt_row gt_center">8.6% – 25.1%</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="3">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;23.2:  Prédictions marginales moyennes </div></div>
</div>
</div>
</div>
<p>La fonction <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_predictions.html">broom.helpers::plot_marginal_predictions()</a></code> permet de visualiser les prédictions marginales à la moyenne en réalisant une liste de graphiques, un par variable, que nous pouvons combiner avec <code><a href="https://patchwork.data-imaginist.com/reference/wrap_plots.html">patchwork::wrap_plots()</a></code>. L’opérateur <code>&amp;</code> permet d’appliquer une fonction de <a href="https://ggplot2.tidyverse.org">ggplot2</a> à chaque sous-graphique. Ici, nous allons uniformiser l’axe des <em>y</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>p <span class="ot">&lt;-</span> mod <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2"></a>  broom.helpers<span class="sc">::</span><span class="fu">plot_marginal_predictions</span>(<span class="at">type =</span> <span class="st">"response"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3"></a>  patchwork<span class="sc">::</span><span class="fu">wrap_plots</span>() <span class="sc">&amp;</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb17-5"><a href="#cb17-5"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">8</span>),</span>
<span id="cb17-6"><a href="#cb17-6"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>()</span>
<span id="cb17-7"><a href="#cb17-7"></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>p</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-predictions-marginales-moyennes" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-predictions-marginales-moyennes-1.png" class="lightbox" title="Prédictions marginales moyennes" data-gallery="quarto-lightbox-gallery-1"><img src="estimations-marginales_files/figure-html/fig-predictions-marginales-moyennes-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.1: Prédictions marginales moyennes</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Il est ici difficile de lire les étiquettes de la variable <em>etudes</em>. Nous pouvons éventuellement inverser l’axe des <em>x</em> et celui des <em>y</em> avec <code><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">ggplot2::coord_flip()</a></code>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>p <span class="sc">&amp;</span> <span class="fu">coord_flip</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-predictions-marginales-moyennes-2" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-predictions-marginales-moyennes-2-1.png" class="lightbox" title="Prédictions marginales moyennes" data-gallery="quarto-lightbox-gallery-2"><img src="estimations-marginales_files/figure-html/fig-predictions-marginales-moyennes-2-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.2: Prédictions marginales moyennes</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Une alternative possible avec d’avoir recours à <code>ggtstats::ggcoef_model()</code>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2"></a>  ggstats<span class="sc">::</span><span class="fu">ggcoef_model</span>(</span>
<span id="cb20-3"><a href="#cb20-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_marginal_predictions,</span>
<span id="cb20-4"><a href="#cb20-4"></a>    <span class="at">tidy_args =</span> <span class="fu">list</span>(<span class="at">type =</span> <span class="st">"response"</span>),</span>
<span id="cb20-5"><a href="#cb20-5"></a>    <span class="at">show_p_values =</span> <span class="cn">FALSE</span>,</span>
<span id="cb20-6"><a href="#cb20-6"></a>    <span class="at">signif_stars =</span> <span class="cn">FALSE</span>,</span>
<span id="cb20-7"><a href="#cb20-7"></a>    <span class="at">significance =</span> <span class="cn">NULL</span>,</span>
<span id="cb20-8"><a href="#cb20-8"></a>    <span class="at">vline =</span> <span class="cn">FALSE</span></span>
<span id="cb20-9"><a href="#cb20-9"></a>  ) <span class="sc">+</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>())</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-predictions-marginales-moyennes-3" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-predictions-marginales-moyennes-3-1.png" class="lightbox" title="Prédictions marginales moyennes" data-gallery="quarto-lightbox-gallery-3"><img src="estimations-marginales_files/figure-html/fig-predictions-marginales-moyennes-3-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.3: Prédictions marginales moyennes</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Importance de l’argument <code>type</code> pour les modèles <code>glm</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Lorsque l’on a recours à des modèles calculés avec <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code>, il est possible de réaliser des prédictions selon deux échelles&nbsp;: l’échelle de notre <em>outcome</em> ou variable à expliquer (<code>type = "response"</code>), ici exprimée en probabilités ou proportions puisqu’il s’agit d’une régression logistique, ou bien selon l’échelle de la fonction de lien (<code>type = "link"</code>) du modèle, ici la fonction <em>logit</em> (voir <a href="#sec-interpreter-coefficients-regression-logistique"><span class="quarto-unresolved-ref">sec-interpreter-coefficients-regression-logistique</span></a>).</p>
<p>Avec l’option <code>type = "reponse"</code>, on indique à <a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a> de calculer pour chaque individu une prédiction selon l’échelle de l’outcome puis de procéder à la moyenne, ce que nous avons fait dans les exemples précédents.</p>
<p>Si nous avions indiqué <code>type = "link"</code>, les prédictions auraient été faites selon l’échelle de la fonction de lien avant d’être moyennée.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>mod <span class="sc">|&gt;</span> <span class="fu">predict</span>(<span class="at">type =</span> <span class="st">"link"</span>, <span class="at">newdata =</span> mf_femmes) <span class="sc">|&gt;</span> <span class="fu">mean</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.910525</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>mod <span class="sc">|&gt;</span> <span class="fu">predict</span>(<span class="at">type =</span> <span class="st">"link"</span>, <span class="at">newdata =</span> mf_hommes) <span class="sc">|&gt;</span> <span class="fu">mean</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.4928844</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="fu">predictions</span>(<span class="at">variables =</span> <span class="st">"sexe"</span>, <span class="at">by =</span> <span class="st">"sexe"</span>, <span class="at">type =</span> <span class="st">"link"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  sexe Estimate Std. Error      z Pr(&gt;|z|)  2.5 % 97.5 %
 Femme   -0.911     0.0751 -12.13   &lt;0.001 -1.058 -0.763
 Homme   -0.493     0.0779  -6.33   &lt;0.001 -0.646 -0.340

Columns: sexe, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
</div>
<p>Depuis la version 0.10.0 de <a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a>, si l’on ne précise pas le paramètre <code>type</code> (i.e.&nbsp;si <code>type = NULL</code>), la fonction <code><a href="https://rdrr.io/pkg/marginaleffects/man/predictions.html">marginaleffects::predictions()</a></code> réalise les prédictions selon l’échelle de la fonction de lien, calcule les moyennes puis re-transforme ce résultat selon l’échelle de la variable à expliquer.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>logit_inverse <span class="ot">&lt;-</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>) <span class="sc">|&gt;</span> purrr<span class="sc">::</span><span class="fu">pluck</span>(<span class="st">"linkinv"</span>)</span>
<span id="cb27-2"><a href="#cb27-2"></a>mod <span class="sc">|&gt;</span> <span class="fu">predict</span>(<span class="at">type =</span> <span class="st">"link"</span>, <span class="at">newdata =</span> mf_femmes) <span class="sc">|&gt;</span> <span class="fu">mean</span>() <span class="sc">|&gt;</span> <span class="fu">logit_inverse</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2868924</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>mod <span class="sc">|&gt;</span> <span class="fu">predict</span>(<span class="at">type =</span> <span class="st">"link"</span>, <span class="at">newdata =</span> mf_hommes) <span class="sc">|&gt;</span> <span class="fu">mean</span>() <span class="sc">|&gt;</span> <span class="fu">logit_inverse</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3792143</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">predictions</span>(<span class="at">variables =</span> <span class="st">"sexe"</span>, <span class="at">by =</span> <span class="st">"sexe"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  sexe Estimate Pr(&gt;|z|) 2.5 % 97.5 %
 Femme    0.287   &lt;0.001 0.258  0.318
 Homme    0.379   &lt;0.001 0.344  0.416

Columns: sexe, estimate, p.value, conf.low, conf.high </code></pre>
</div>
</div>
<p>Or, la plupart du temps, le logit inverse de la moyenne des prédictions est différent de la moyenne des logit inverse des prédictions&nbsp;!</p>
<p>Les résultats seront similaires et du même ordre de grandeur, mais pas identiques.</p>
</div>
</div>
</section><section id="prédictions-marginales-à-la-moyenne" class="level3 page-columns page-full" data-number="23.3.2"><h3 data-number="23.3.2" class="anchored" data-anchor-id="prédictions-marginales-à-la-moyenne">
<span class="header-section-number">23.3.2</span> Prédictions marginales à la moyenne</h3>
<p>Pour les prédictions marginales moyennes, nous avons réalisé des prédictions pour chaque observations du tableau d’origine, en faisant varier juste une variable à la fois, avant de calculer la moyenne des prédictions.</p>
<p>Une alternative consiste à générer une sorte d’<q>individu moyen / typique</q> puis à réaliser des prédictions pour cette unique individu, en faisant juste varier la variable explicative d’intérêt. On parle alors de <strong>prédictions marginales à la moyenne</strong>, <em>marginal predictions at the mean</em> en anglais.</p>
<section id="avec-marginaleffects" class="level4 page-columns page-full" data-number="23.3.2.1"><h4 data-number="23.3.2.1" class="anchored" data-anchor-id="avec-marginaleffects">
<span class="header-section-number">23.3.2.1</span> avec <code>{marginaleffects}</code>
</h4>
<p>On peut réaliser cela avec <a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a> en précisant <code>newdata = "mean"</code>. Prenons un exemple pour la variable <em>sexe</em>&nbsp;:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>mod <span class="sc">|&gt;</span> <span class="fu">predictions</span>(<span class="at">variables =</span> <span class="st">"sexe"</span>, <span class="at">newdata =</span> <span class="st">"mean"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Estimate Pr(&gt;|z|) 2.5 % 97.5 %
    0.239   &lt;0.001 0.196  0.289
    0.323   &lt;0.001 0.273  0.378

Columns: rowid, rowidcf, estimate, p.value, conf.low, conf.high, sport, groupe_ages, etudes, heures.tv, sexe </code></pre>
</div>
</div>
<p>Dans ce cas de figure, <a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a> considère pour chaque variable continue sa moyenne (ici <code>2.246</code> pour <em>heures.tv</em>) et pour chaque variable catégorielle son mode (la valeur observée la plus fréquente, ici <code>"Technique / Professionnel"</code> pour la variable <em>etudes</em>). On fait juste varier les modalités de <em>sexe</em> puis on calculer la probabilité de faire du sport de ces individus moyens.</p>
<div class="page-columns page-full"><p>On peut également passer le paramètre <code>newdata = "mean"</code> à <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_predictions.html">broom.helpers::tidy_marginal_predictions()</a></code> ou même à <code><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_regression.html">gtsummary::tbl_regression()</a></code><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;Les paramètres additionnels indiqués à <code><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_regression.html">gtsummary::tbl_regression()</a></code> sont transmis en cascade à <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_plus_plus.html">broom.helpers::tidy_plus_plus()</a></code> puis à <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_predictions.html">broom.helpers::tidy_marginal_predictions()</a></code> et enfin à <code><a href="https://rdrr.io/pkg/marginaleffects/man/predictions.html">marginaleffects::predictions()</a></code>.</p></li></div></div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb35-3"><a href="#cb35-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_marginal_predictions,</span>
<span id="cb35-4"><a href="#cb35-4"></a>    <span class="at">newdata =</span> <span class="st">"mean"</span>,</span>
<span id="cb35-5"><a href="#cb35-5"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb35-6"><a href="#cb35-6"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb35-7"><a href="#cb35-7"></a>  <span class="fu">bold_labels</span>() <span class="sc">|&gt;</span> </span>
<span id="cb35-8"><a href="#cb35-8"></a>  <span class="fu">modify_column_hide</span>(<span class="st">"p.value"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="tbl-predictions-marginales-a-la-moyenne" class="anchored page-columns page-full">

<div id="bhsczhgvad" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#bhsczhgvad) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#bhsczhgvad) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#bhsczhgvad) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#bhsczhgvad) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#bhsczhgvad) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#bhsczhgvad) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#bhsczhgvad) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#bhsczhgvad) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#bhsczhgvad) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#bhsczhgvad) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#bhsczhgvad) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#bhsczhgvad) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#bhsczhgvad) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#bhsczhgvad) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bhsczhgvad) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#bhsczhgvad) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#bhsczhgvad) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bhsczhgvad) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#bhsczhgvad) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bhsczhgvad) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#bhsczhgvad) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bhsczhgvad) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#bhsczhgvad) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bhsczhgvad) .gt_left {
  text-align: left;
}

:where(#bhsczhgvad) .gt_center {
  text-align: center;
}

:where(#bhsczhgvad) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#bhsczhgvad) .gt_font_normal {
  font-weight: normal;
}

:where(#bhsczhgvad) .gt_font_bold {
  font-weight: bold;
}

:where(#bhsczhgvad) .gt_font_italic {
  font-style: italic;
}

:where(#bhsczhgvad) .gt_super {
  font-size: 65%;
}

:where(#bhsczhgvad) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#bhsczhgvad) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#bhsczhgvad) .gt_indent_1 {
  text-indent: 5px;
}

:where(#bhsczhgvad) .gt_indent_2 {
  text-indent: 10px;
}

:where(#bhsczhgvad) .gt_indent_3 {
  text-indent: 15px;
}

:where(#bhsczhgvad) .gt_indent_4 {
  text-indent: 20px;
}

:where(#bhsczhgvad) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">

  
  <thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Marginal Predictions at the Mean</strong>"><strong>Marginal Predictions at the Mean</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Sexe</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Femme</td>
<td headers="estimate" class="gt_row gt_center">23.9%</td>
<td headers="ci" class="gt_row gt_center">19.6% – 28.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Homme</td>
<td headers="estimate" class="gt_row gt_center">32.3%</td>
<td headers="ci" class="gt_row gt_center">27.3% – 37.8%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">46.8%</td>
<td headers="ci" class="gt_row gt_center">36.1% – 57.8%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">37.3%</td>
<td headers="ci" class="gt_row gt_center">32.1% – 42.8%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans</td>
<td headers="estimate" class="gt_row gt_center">23.9%</td>
<td headers="ci" class="gt_row gt_center">19.6% – 28.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus</td>
<td headers="estimate" class="gt_row gt_center">19.2%</td>
<td headers="ci" class="gt_row gt_center">14.0% – 25.6%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primaire</td>
<td headers="estimate" class="gt_row gt_center">10.1%</td>
<td headers="ci" class="gt_row gt_center">7.3% – 13.7%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire</td>
<td headers="estimate" class="gt_row gt_center">22.1%</td>
<td headers="ci" class="gt_row gt_center">17.7% – 27.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel</td>
<td headers="estimate" class="gt_row gt_center">23.9%</td>
<td headers="ci" class="gt_row gt_center">19.6% – 28.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur</td>
<td headers="estimate" class="gt_row gt_center">42.3%</td>
<td headers="ci" class="gt_row gt_center">36.0% – 48.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté</td>
<td headers="estimate" class="gt_row gt_center">48.9%</td>
<td headers="ci" class="gt_row gt_center">34.7% – 63.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;0</td>
<td headers="estimate" class="gt_row gt_center">29.2%</td>
<td headers="ci" class="gt_row gt_center">23.6% – 35.5%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1</td>
<td headers="estimate" class="gt_row gt_center">26.8%</td>
<td headers="ci" class="gt_row gt_center">21.9% – 32.3%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2</td>
<td headers="estimate" class="gt_row gt_center">24.5%</td>
<td headers="ci" class="gt_row gt_center">20.1% – 29.5%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3</td>
<td headers="estimate" class="gt_row gt_center">22.3%</td>
<td headers="ci" class="gt_row gt_center">18.1% – 27.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;12</td>
<td headers="estimate" class="gt_row gt_center">8.8%</td>
<td headers="ci" class="gt_row gt_center">4.6% – 16.4%</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="3">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;23.3:  Prédictions marginales à la moyenne </div></div>
</div>
</div>
</div>
<p>De même, on peut générer une représentation graphique&nbsp;:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>p <span class="ot">&lt;-</span> mod <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2"></a>  broom.helpers<span class="sc">::</span><span class="fu">plot_marginal_predictions</span>(<span class="at">newdata =</span> <span class="st">"mean"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a href="#cb36-3"></a>  patchwork<span class="sc">::</span><span class="fu">wrap_plots</span>() <span class="sc">&amp;</span></span>
<span id="cb36-4"><a href="#cb36-4"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb36-5"><a href="#cb36-5"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">8</span>),</span>
<span id="cb36-6"><a href="#cb36-6"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>()</span>
<span id="cb36-7"><a href="#cb36-7"></a>  ) <span class="sc">&amp;</span></span>
<span id="cb36-8"><a href="#cb36-8"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>p</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-predictions-marginales-a-la-moyenne" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-predictions-marginales-a-la-moyenne-1.png" class="lightbox" title="Prédictions marginales à la moyenne" data-gallery="quarto-lightbox-gallery-4"><img src="estimations-marginales_files/figure-html/fig-predictions-marginales-a-la-moyenne-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.4: Prédictions marginales à la moyenne</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Si l’on souhaite utiliser <code><a href="https://larmarange.github.io/ggstats/reference/ggcoef_model.html">ggstats::ggcoef_model()</a></code>, on peut directement indiquer <code>newdata = "mean"</code>. Il faudra passer cette option via <code>tidy_args</code> qui prend une liste d’arguments à transmettre à <code>tidy_fun</code>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2"></a>  ggstats<span class="sc">::</span><span class="fu">ggcoef_model</span>(</span>
<span id="cb38-3"><a href="#cb38-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_marginal_predictions,</span>
<span id="cb38-4"><a href="#cb38-4"></a>    <span class="at">tidy_args =</span> <span class="fu">list</span>(<span class="at">newdata =</span> <span class="st">"mean"</span>),</span>
<span id="cb38-5"><a href="#cb38-5"></a>    <span class="at">show_p_values =</span> <span class="cn">FALSE</span>,</span>
<span id="cb38-6"><a href="#cb38-6"></a>    <span class="at">signif_stars =</span> <span class="cn">FALSE</span>,</span>
<span id="cb38-7"><a href="#cb38-7"></a>    <span class="at">significance =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-8"><a href="#cb38-8"></a>    <span class="at">vline =</span> <span class="cn">FALSE</span></span>
<span id="cb38-9"><a href="#cb38-9"></a>  ) <span class="sc">+</span></span>
<span id="cb38-10"><a href="#cb38-10"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>())</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-predictions-marginales-a-la-moyenne-2" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-predictions-marginales-a-la-moyenne-2-1.png" class="lightbox" title="Prédictions marginales à la moyenne" data-gallery="quarto-lightbox-gallery-5"><img src="estimations-marginales_files/figure-html/fig-predictions-marginales-a-la-moyenne-2-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.5: Prédictions marginales à la moyenne</figcaption><p></p>
</figure>
</div>
</div>
</div>
</section><section id="avec-effects" class="level4 page-columns page-full" data-number="23.3.2.2"><h4 data-number="23.3.2.2" class="anchored" data-anchor-id="avec-effects">
<span class="header-section-number">23.3.2.2</span> avec <code>{effects}</code>
</h4>
<div class="page-columns page-full"><p>Le package <a href="https://www.r-project.org">effects</a><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> adopte une approche un peu différente pour définir un <q>individu moyen</q>.</p><div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;Malgré son nom, le package <a href="https://www.r-project.org">effects</a> ne calcule pas des effets marginaux mais des prédictions marginales, selon la terminologie retenue au début de ce document.</p></li></div></div>
<p>Calculons les prédictions marginales à la moyenne avec la fonction <code><a href="https://rdrr.io/pkg/effects/man/effect.html">effects::Effect()</a></code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>e <span class="ot">&lt;-</span> effects<span class="sc">::</span><span class="fu">Effect</span>(<span class="st">"sexe"</span>, mod)</span>
<span id="cb39-2"><a href="#cb39-2"></a>e</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 sexe effect
sexe
    Femme     Homme 
0.2868924 0.3792143 </code></pre>
</div>
</div>
<p>On le voit, les résultats sont là encore assez proches mais différents. Regardons de plus près les données utilisées pour les prédictions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>e<span class="sc">$</span>model.matrix</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  (Intercept) sexeHomme groupe_ages25-44 ans groupe_ages45-64 ans
1           1         0            0.3533835            0.3719298
2           1         1            0.3533835            0.3719298
  groupe_ages65 ans et plus etudesSecondaire etudesTechnique / Professionnel
1                 0.1904762         0.193985                       0.2962406
2                 0.1904762         0.193985                       0.2962406
  etudesSupérieur etudesNon documenté heures.tv
1       0.2205514          0.05614035  2.246566
2       0.2205514          0.05614035  2.246566
attr(,"assign")
 [1] 0 1 2 2 2 3 3 3 3 4
attr(,"contrasts")
attr(,"contrasts")$sexe
[1] "contr.treatment"

attr(,"contrasts")$groupe_ages
[1] "contr.treatment"

attr(,"contrasts")$etudes
[1] "contr.treatment"</code></pre>
</div>
</div>
<p>Pour les variables continues, <a href="https://www.r-project.org">effects</a> utilise la moyenne observée de la variable, comme précédemment avec <a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a>. Par contre, pour les variables catégorielles, ce n’est pas le mode qui est utilisé, mais l’ensemble des modalités, pondérées selon leur proportion observée dans l’échantillon. Cette approche a l’avantage de <q>moyenniser</q> également les variables catégorielles, même si les indvidus pour lesquels une prédiction est réalisée sont complètement fictifs.</p>
<p>On peut utiliser <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_all_effects.html">broom.helpers::tidy_all_effects()</a></code> pour générer un tableau de prédictions marginales avec <a href="https://www.r-project.org">effects</a>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb43-2"><a href="#cb43-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb43-3"><a href="#cb43-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_all_effects,</span>
<span id="cb43-4"><a href="#cb43-4"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb43-5"><a href="#cb43-5"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb43-6"><a href="#cb43-6"></a>  <span class="fu">bold_labels</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="tbl-predictions-marginales-effects" class="anchored page-columns page-full">

<div id="exzxkqfqio" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#exzxkqfqio) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#exzxkqfqio) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#exzxkqfqio) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#exzxkqfqio) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#exzxkqfqio) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#exzxkqfqio) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#exzxkqfqio) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#exzxkqfqio) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#exzxkqfqio) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#exzxkqfqio) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#exzxkqfqio) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#exzxkqfqio) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#exzxkqfqio) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#exzxkqfqio) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exzxkqfqio) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#exzxkqfqio) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#exzxkqfqio) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exzxkqfqio) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#exzxkqfqio) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exzxkqfqio) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#exzxkqfqio) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exzxkqfqio) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#exzxkqfqio) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exzxkqfqio) .gt_left {
  text-align: left;
}

:where(#exzxkqfqio) .gt_center {
  text-align: center;
}

:where(#exzxkqfqio) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#exzxkqfqio) .gt_font_normal {
  font-weight: normal;
}

:where(#exzxkqfqio) .gt_font_bold {
  font-weight: bold;
}

:where(#exzxkqfqio) .gt_font_italic {
  font-style: italic;
}

:where(#exzxkqfqio) .gt_super {
  font-size: 65%;
}

:where(#exzxkqfqio) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#exzxkqfqio) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#exzxkqfqio) .gt_indent_1 {
  text-indent: 5px;
}

:where(#exzxkqfqio) .gt_indent_2 {
  text-indent: 10px;
}

:where(#exzxkqfqio) .gt_indent_3 {
  text-indent: 15px;
}

:where(#exzxkqfqio) .gt_indent_4 {
  text-indent: 20px;
}

:where(#exzxkqfqio) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">

  
  <thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Marginal Predictions at the Mean</strong>"><strong>Marginal Predictions at the Mean</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Sexe</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Femme</td>
<td headers="estimate" class="gt_row gt_center">28.7%</td>
<td headers="ci" class="gt_row gt_center">25.8% – 31.8%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Homme</td>
<td headers="estimate" class="gt_row gt_center">37.9%</td>
<td headers="ci" class="gt_row gt_center">34.4% – 41.6%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">51.2%</td>
<td headers="ci" class="gt_row gt_center">41.0% – 61.3%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">41.5%</td>
<td headers="ci" class="gt_row gt_center">37.4% – 45.7%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans</td>
<td headers="estimate" class="gt_row gt_center">27.3%</td>
<td headers="ci" class="gt_row gt_center">23.9% – 30.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus</td>
<td headers="estimate" class="gt_row gt_center">22.0%</td>
<td headers="ci" class="gt_row gt_center">17.4% – 27.5%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primaire</td>
<td headers="estimate" class="gt_row gt_center">14.9%</td>
<td headers="ci" class="gt_row gt_center">11.3% – 19.3%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire</td>
<td headers="estimate" class="gt_row gt_center">30.7%</td>
<td headers="ci" class="gt_row gt_center">26.2% – 35.7%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel</td>
<td headers="estimate" class="gt_row gt_center">32.9%</td>
<td headers="ci" class="gt_row gt_center">29.1% – 37.0%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur</td>
<td headers="estimate" class="gt_row gt_center">53.4%</td>
<td headers="ci" class="gt_row gt_center">48.3% – 58.4%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté</td>
<td headers="estimate" class="gt_row gt_center">59.9%</td>
<td headers="ci" class="gt_row gt_center">46.6% – 71.8%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;0</td>
<td headers="estimate" class="gt_row gt_center">38.9%</td>
<td headers="ci" class="gt_row gt_center">34.8% – 43.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3</td>
<td headers="estimate" class="gt_row gt_center">30.7%</td>
<td headers="ci" class="gt_row gt_center">28.1% – 33.4%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;6</td>
<td headers="estimate" class="gt_row gt_center">23.6%</td>
<td headers="ci" class="gt_row gt_center">18.9% – 28.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;9</td>
<td headers="estimate" class="gt_row gt_center">17.7%</td>
<td headers="ci" class="gt_row gt_center">11.9% – 25.4%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;10</td>
<td headers="estimate" class="gt_row gt_center">16.0%</td>
<td headers="ci" class="gt_row gt_center">10.1% – 24.4%</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="3">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;23.4:  Prédictions marginales à la moyenne avec le package effects </div></div>
</div>
</div>
</div>
<p>Pour une représentation graphique, nous pouvons utiliser les fonctions internes d’<a href="https://www.r-project.org">effects</a> en appliquant <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> aux résultats de <code><a href="https://rdrr.io/pkg/effects/man/effect.html">effects::allEffects()</a></code> qui calcule les prédictions marginales de chaque variable.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb44-2"><a href="#cb44-2"></a>  effects<span class="sc">::</span><span class="fu">allEffects</span>() <span class="sc">|&gt;</span> </span>
<span id="cb44-3"><a href="#cb44-3"></a>  <span class="fu">plot</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-predictions-marginales-effects" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-predictions-marginales-effects-1.png" class="lightbox" title="Prédictions marginales à la moyenne avec le package effects" data-gallery="quarto-lightbox-gallery-6"><img src="estimations-marginales_files/figure-html/fig-predictions-marginales-effects-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.6: Prédictions marginales à la moyenne avec le package effects</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="page-columns page-full"><p>On peut aussi utiliser <code><a href="https://larmarange.github.io/ggstats/reference/ggcoef_model.html">ggstats::ggcoef_model()</a></code><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.</p><div class="no-row-height column-margin column-container"><li id="fn4"><p><sup>4</sup>&nbsp;De manière générale, <code><a href="https://larmarange.github.io/ggstats/reference/ggcoef_model.html">ggstats::ggcoef_model()</a></code> est compatible avec les mêmes <code>tidy_fun</code> que <code><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_regression.html">gtsummary::tbl_regression()</a></code>, les deux fonctions utilisant en interne <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_plus_plus.html">broom.helpers::tidy_plus_plus()</a></code>.</p></li></div></div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2"></a>  ggstats<span class="sc">::</span><span class="fu">ggcoef_model</span>(</span>
<span id="cb45-3"><a href="#cb45-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_all_effects,</span>
<span id="cb45-4"><a href="#cb45-4"></a>    <span class="at">vline =</span> <span class="cn">FALSE</span></span>
<span id="cb45-5"><a href="#cb45-5"></a>  ) <span class="sc">+</span></span>
<span id="cb45-6"><a href="#cb45-6"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>())</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-predictions-marginales-effects-2" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-predictions-marginales-effects-2-1.png" class="lightbox" title="Prédictions marginales à la moyenne avec le package effects" data-gallery="quarto-lightbox-gallery-7"><img src="estimations-marginales_files/figure-html/fig-predictions-marginales-effects-2-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.7: Prédictions marginales à la moyenne avec le package effects</figcaption><p></p>
</figure>
</div>
</div>
</div>
</section></section><section id="variantes" class="level3 page-columns page-full" data-number="23.3.3"><h3 data-number="23.3.3" class="anchored" data-anchor-id="variantes">
<span class="header-section-number">23.3.3</span> Variantes</h3>
<p>Le package <a href="https://strengejacke.github.io/ggeffects/">ggeffects</a> propose une fonction <code><a href="https://strengejacke.github.io/ggeffects/reference/ggpredict.html">ggeffects::ggpredict()</a></code> qui calcule des prédictions marginales à la moyenne des variables continues et à la première modalité (utilisée comme référence) des variables catégorielles. On ne peut donc plus, au sens strict, parler de prédictions <q>à la moyenne</q>. <a href="https://larmarange.github.io/broom.helpers/">broom.helpers</a> fournit une fonction <code>tidy_ggpredict()</code>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb46-3"><a href="#cb46-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_ggpredict,</span>
<span id="cb46-4"><a href="#cb46-4"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb46-5"><a href="#cb46-5"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb46-6"><a href="#cb46-6"></a>  <span class="fu">bold_labels</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Data were 'prettified'. Consider using `terms="heures.tv [all]"` to get
  smooth plots.</code></pre>
</div>
<div class="cell-output-display page-columns page-full">
<div id="tbl-ggpredict" class="anchored page-columns page-full">

<div id="gtgepejqpq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#gtgepejqpq) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#gtgepejqpq) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#gtgepejqpq) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#gtgepejqpq) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#gtgepejqpq) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#gtgepejqpq) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#gtgepejqpq) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#gtgepejqpq) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#gtgepejqpq) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#gtgepejqpq) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#gtgepejqpq) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#gtgepejqpq) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#gtgepejqpq) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#gtgepejqpq) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gtgepejqpq) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#gtgepejqpq) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#gtgepejqpq) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gtgepejqpq) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#gtgepejqpq) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gtgepejqpq) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#gtgepejqpq) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gtgepejqpq) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#gtgepejqpq) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gtgepejqpq) .gt_left {
  text-align: left;
}

:where(#gtgepejqpq) .gt_center {
  text-align: center;
}

:where(#gtgepejqpq) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#gtgepejqpq) .gt_font_normal {
  font-weight: normal;
}

:where(#gtgepejqpq) .gt_font_bold {
  font-weight: bold;
}

:where(#gtgepejqpq) .gt_font_italic {
  font-style: italic;
}

:where(#gtgepejqpq) .gt_super {
  font-size: 65%;
}

:where(#gtgepejqpq) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#gtgepejqpq) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#gtgepejqpq) .gt_indent_1 {
  text-indent: 5px;
}

:where(#gtgepejqpq) .gt_indent_2 {
  text-indent: 10px;
}

:where(#gtgepejqpq) .gt_indent_3 {
  text-indent: 15px;
}

:where(#gtgepejqpq) .gt_indent_4 {
  text-indent: 20px;
}

:where(#gtgepejqpq) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">

  
  <thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Marginal Predictions</strong>"><strong>Marginal Predictions</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Sexe</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Femme</td>
<td headers="estimate" class="gt_row gt_center">23.8%</td>
<td headers="ci" class="gt_row gt_center">15.3% – 35.1%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Homme</td>
<td headers="estimate" class="gt_row gt_center">32.2%</td>
<td headers="ci" class="gt_row gt_center">21.4% – 45.4%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">23.8%</td>
<td headers="ci" class="gt_row gt_center">15.3% – 35.1%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">17.5%</td>
<td headers="ci" class="gt_row gt_center">12.7% – 23.5%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans</td>
<td headers="estimate" class="gt_row gt_center">10.1%</td>
<td headers="ci" class="gt_row gt_center">7.3% – 13.7%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus</td>
<td headers="estimate" class="gt_row gt_center">7.8%</td>
<td headers="ci" class="gt_row gt_center">5.5% – 10.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primaire</td>
<td headers="estimate" class="gt_row gt_center">23.8%</td>
<td headers="ci" class="gt_row gt_center">15.3% – 35.1%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire</td>
<td headers="estimate" class="gt_row gt_center">44.2%</td>
<td headers="ci" class="gt_row gt_center">33.0% – 56.1%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel</td>
<td headers="estimate" class="gt_row gt_center">46.8%</td>
<td headers="ci" class="gt_row gt_center">36.1% – 57.8%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur</td>
<td headers="estimate" class="gt_row gt_center">67.2%</td>
<td headers="ci" class="gt_row gt_center">56.2% – 76.6%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté</td>
<td headers="estimate" class="gt_row gt_center">72.8%</td>
<td headers="ci" class="gt_row gt_center">62.8% – 80.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;0</td>
<td headers="estimate" class="gt_row gt_center">29.1%</td>
<td headers="ci" class="gt_row gt_center">18.7% – 42.3%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;1</td>
<td headers="estimate" class="gt_row gt_center">26.7%</td>
<td headers="ci" class="gt_row gt_center">17.2% – 38.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;2</td>
<td headers="estimate" class="gt_row gt_center">24.4%</td>
<td headers="ci" class="gt_row gt_center">15.7% – 35.8%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;3</td>
<td headers="estimate" class="gt_row gt_center">22.2%</td>
<td headers="ci" class="gt_row gt_center">14.2% – 33.0%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;4</td>
<td headers="estimate" class="gt_row gt_center">20.2%</td>
<td headers="ci" class="gt_row gt_center">12.8% – 30.4%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;5</td>
<td headers="estimate" class="gt_row gt_center">18.3%</td>
<td headers="ci" class="gt_row gt_center">11.4% – 28.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;6</td>
<td headers="estimate" class="gt_row gt_center">16.6%</td>
<td headers="ci" class="gt_row gt_center">10.0% – 26.1%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;7</td>
<td headers="estimate" class="gt_row gt_center">15.0%</td>
<td headers="ci" class="gt_row gt_center">8.8% – 24.3%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;8</td>
<td headers="estimate" class="gt_row gt_center">13.5%</td>
<td headers="ci" class="gt_row gt_center">7.7% – 22.7%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;9</td>
<td headers="estimate" class="gt_row gt_center">12.1%</td>
<td headers="ci" class="gt_row gt_center">6.6% – 21.2%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;10</td>
<td headers="estimate" class="gt_row gt_center">10.9%</td>
<td headers="ci" class="gt_row gt_center">5.7% – 19.9%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;11</td>
<td headers="estimate" class="gt_row gt_center">9.8%</td>
<td headers="ci" class="gt_row gt_center">4.9% – 18.7%</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;12</td>
<td headers="estimate" class="gt_row gt_center">8.8%</td>
<td headers="ci" class="gt_row gt_center">4.2% – 17.6%</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="3">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;23.5:  Prédictions marginales avec ggpredict() </div></div>
</div>
</div>
</div>
<p>Pour une représentation graphique, on peut utiliser les fonctionnalités natives inclues dans le package <a href="https://strengejacke.github.io/ggeffects/">ggeffects</a>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb48-2"><a href="#cb48-2"></a>  ggeffects<span class="sc">::</span><span class="fu">ggpredict</span>() <span class="sc">|&gt;</span> </span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="fu">plot</span>() <span class="sc">|&gt;</span> </span>
<span id="cb48-4"><a href="#cb48-4"></a>  patchwork<span class="sc">::</span><span class="fu">wrap_plots</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-ggpredict" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-ggpredict-1.png" class="lightbox" title="Prédictions marginales avec ggpredict()" data-gallery="quarto-lightbox-gallery-8"><img src="estimations-marginales_files/figure-html/fig-ggpredict-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.8: Prédictions marginales avec ggpredict()</figcaption><p></p>
</figure>
</div>
</div>
</div>
</section></section><section id="contrastes-marginaux" class="level2 page-columns page-full" data-number="23.4"><h2 data-number="23.4" class="anchored" data-anchor-id="contrastes-marginaux">
<span class="header-section-number">23.4</span> Contrastes marginaux</h2>
<p>Maintenant que nous savons estimer des prédictions marginales, nous pouvons facilement calculer des <strong>contrastes marginaux</strong>, à savoir des différences entre prédictions marginales.</p>
<section id="contrastes-marginaux-moyens" class="level3 page-columns page-full" data-number="23.4.1"><h3 data-number="23.4.1" class="anchored" data-anchor-id="contrastes-marginaux-moyens">
<span class="header-section-number">23.4.1</span> Contrastes marginaux moyens</h3>
<p>Considérons tout d’abord la variable catégorielle <em>sexe</em> et calculons les prédictions marginales moyennes avec <code><a href="https://rdrr.io/pkg/marginaleffects/man/predictions.html">marginaleffects::predictions()</a></code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">predictions</span>(mod, <span class="at">variables =</span> <span class="st">"sexe"</span>, <span class="at">by =</span> <span class="st">"sexe"</span>, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb49-2"><a href="#cb49-2"></a>pred</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  sexe Estimate Std. Error    z Pr(&gt;|z|) 2.5 % 97.5 %
 Femme    0.325     0.0130 25.0   &lt;0.001 0.299  0.350
 Homme    0.404     0.0147 27.5   &lt;0.001 0.375  0.432

Columns: sexe, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
</div>
<p>Le contraste entre les hommes et les femmes est tout simplement la différence et les deux prédictions marginales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>pred<span class="sc">$</span>estimate[<span class="dv">2</span>] <span class="sc">-</span> pred<span class="sc">$</span>estimate[<span class="dv">1</span>]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.07884839</code></pre>
</div>
</div>
<p>La fonction <code><a href="https://rdrr.io/pkg/marginaleffects/man/comparisons.html">marginaleffects::avg_comparisons()</a></code> permet de réaliser directement ce calcul.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="fu">avg_comparisons</span>(mod, <span class="at">variables =</span> <span class="st">"sexe"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Term      Contrast Estimate Std. Error z Pr(&gt;|z|)  2.5 % 97.5 %
 sexe Homme - Femme   0.0788     0.0197 4   &lt;0.001 0.0402  0.117

Columns: term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans les faits, <code><a href="https://rdrr.io/pkg/marginaleffects/man/comparisons.html">marginaleffects::avg_comparisons()</a></code> a calculé la différence entre les hommes et les femmes pour chaque observation d’origine puis a réalisé la moyenne des différences. Mathématiquement, la moyenne des différences est équivalente à la différence des moyennes.</p>
</div>
</div>
<p>Les contrastes calculés ici ont été moyennés sur l’ensemble des valeurs observées. On parle donc de <strong>contrastes marginaux moyens</strong> (<em>average marginal contrasts</em>).</p>
<p>Par défaut, chaque modalité est contrastée avec la première modalité prise comme référence (voir exemple ci-dessous avec la variable <em>groupe_ages</em>.</p>
<p>Regardons maintenant une variable continue.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="fu">avg_comparisons</span>(mod, <span class="at">variables =</span> <span class="st">"heures.tv"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Term Contrast Estimate Std. Error     z Pr(&gt;|z|)   2.5 %  97.5 %
 heures.tv       +1  -0.0227     0.0062 -3.66   &lt;0.001 -0.0348 -0.0105

Columns: term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
</div>
<p>Par défaut, <code><a href="https://rdrr.io/pkg/marginaleffects/man/comparisons.html">marginaleffects::avg_comparisons()</a></code> calcule, pour chaque valeur observée de <em>heures.tv</em>, l’effet sur la probabilité de pratiquer un sport d’augmenter de 1 le nombre d’heures quotidiennes de télévision (plus précisément la différence des valeurs prédites pour la valeur observée plus 0,5 et la valeur observée moins 0,5).</p>
<p>On peut facilement obtenir la liste des contrastes marginaux pour l’ensemble des variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="fu">avg_comparisons</span>(mod)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        Term                             Contrast Estimate Std. Error     z
 etudes      Non documenté - Primaire               0.4309     0.0691  6.23
 etudes      Secondaire - Primaire                  0.1568     0.0314  4.99
 etudes      Supérieur - Primaire                   0.3701     0.0337 10.98
 etudes      Technique / Professionnel - Primaire   0.1781     0.0295  6.04
 groupe_ages 25-44 ans - 18-24 ans                 -0.0844     0.0492 -1.71
 groupe_ages 45-64 ans - 18-24 ans                 -0.2127     0.0507 -4.20
 groupe_ages 65 ans et plus - 18-24 ans            -0.2631     0.0556 -4.73
 heures.tv   +1                                    -0.0227     0.0062 -3.66
 sexe        Homme - Femme                          0.0788     0.0197  4.00
 Pr(&gt;|z|)   2.5 %  97.5 %
   &lt;0.001  0.2954  0.5665
   &lt;0.001  0.0952  0.2184
   &lt;0.001  0.3040  0.4361
   &lt;0.001  0.1203  0.2359
   0.0865 -0.1808  0.0121
   &lt;0.001 -0.3121 -0.1133
   &lt;0.001 -0.3720 -0.1541
   &lt;0.001 -0.0348 -0.0105
   &lt;0.001  0.0402  0.1175

Columns: term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
</div>
<div class="page-columns page-full"><p>Il est important de noter que le nom des colonnes n’est pas compatible avec les fonctions de <a href="https://larmarange.github.io/broom.helpers/">broom.helpers</a> et par extension avec <code><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_regression.html">gtsummary::tbl_regression()</a></code> et <code><a href="https://larmarange.github.io/ggstats/reference/ggcoef_model.html">ggstats::ggcoef_model()</a></code>. On utilisera donc <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_contrasts.html">broom.helpers::tidy_marginal_contrasts()</a></code><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> qui remets en forme le tableau de résultats dans un format compatible. On pourra ainsi produire un tableau propre des résultats<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>.</p><div class="no-row-height column-margin column-container"><li id="fn5"><p><sup>5</sup>&nbsp;Il existe également une fonction <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_avg_comparisons.html">broom.helpers::tidy_avg_comparisons()</a></code> mais on lui préférera <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_contrasts.html">broom.helpers::tidy_marginal_contrasts()</a></code>. Pour un modèle sans interaction, les résultats sont identiques. Mais <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_contrasts.html">broom.helpers::tidy_marginal_contrasts()</a></code> peut gérer des termes d’interactions, ce qui sera utile dans un prochain chapitre (cf. <a href="#sec-interactions"><span class="quarto-unresolved-ref">sec-interactions</span></a>).</p></li><li id="fn6"><p><sup>6</sup>&nbsp;Notez l’utilisation de <code>style_positive = "plus"</code> dans l’appel de <code><a href="https://scales.r-lib.org/reference/label_percent.html">scales::label_percent()</a></code> pour ajouter un signe <code>+</code> devant les valeurs positives, afin de bien indiquer que l’on représente le résultat d’une différence.</p></li></div></div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb59-2"><a href="#cb59-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb59-3"><a href="#cb59-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_marginal_contrasts,</span>
<span id="cb59-4"><a href="#cb59-4"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(</span>
<span id="cb59-5"><a href="#cb59-5"></a>      <span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb59-6"><a href="#cb59-6"></a>      <span class="at">style_positive =</span> <span class="st">"plus"</span></span>
<span id="cb59-7"><a href="#cb59-7"></a>    )</span>
<span id="cb59-8"><a href="#cb59-8"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb59-9"><a href="#cb59-9"></a>  <span class="fu">bold_labels</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="tbl-contrastes-marginaux-moyens" class="anchored page-columns page-full">

<div id="kutjqexxqi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#kutjqexxqi) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#kutjqexxqi) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#kutjqexxqi) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#kutjqexxqi) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#kutjqexxqi) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#kutjqexxqi) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#kutjqexxqi) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#kutjqexxqi) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#kutjqexxqi) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#kutjqexxqi) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#kutjqexxqi) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#kutjqexxqi) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#kutjqexxqi) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#kutjqexxqi) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kutjqexxqi) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#kutjqexxqi) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#kutjqexxqi) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kutjqexxqi) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#kutjqexxqi) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kutjqexxqi) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#kutjqexxqi) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kutjqexxqi) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#kutjqexxqi) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kutjqexxqi) .gt_left {
  text-align: left;
}

:where(#kutjqexxqi) .gt_center {
  text-align: center;
}

:where(#kutjqexxqi) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#kutjqexxqi) .gt_font_normal {
  font-weight: normal;
}

:where(#kutjqexxqi) .gt_font_bold {
  font-weight: bold;
}

:where(#kutjqexxqi) .gt_font_italic {
  font-style: italic;
}

:where(#kutjqexxqi) .gt_super {
  font-size: 65%;
}

:where(#kutjqexxqi) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#kutjqexxqi) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#kutjqexxqi) .gt_indent_1 {
  text-indent: 5px;
}

:where(#kutjqexxqi) .gt_indent_2 {
  text-indent: 10px;
}

:where(#kutjqexxqi) .gt_indent_3 {
  text-indent: 15px;
}

:where(#kutjqexxqi) .gt_indent_4 {
  text-indent: 20px;
}

:where(#kutjqexxqi) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">

  
  <thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Average Marginal Contrasts</strong>"><strong>Average Marginal Contrasts</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-valeur</strong>"><strong>p-valeur</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Sexe</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Homme - Femme</td>
<td headers="estimate" class="gt_row gt_center">+7.9%</td>
<td headers="ci" class="gt_row gt_center">+4.0% – +11.7%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-8.4%</td>
<td headers="ci" class="gt_row gt_center">-18.1% – +1.2%</td>
<td headers="p.value" class="gt_row gt_center">0,086</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-21.3%</td>
<td headers="ci" class="gt_row gt_center">-31.2% – -11.3%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-26.3%</td>
<td headers="ci" class="gt_row gt_center">-37.2% – -15.4%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+43.1%</td>
<td headers="ci" class="gt_row gt_center">+29.5% – +56.6%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+15.7%</td>
<td headers="ci" class="gt_row gt_center">+9.5% – +21.8%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+37.0%</td>
<td headers="ci" class="gt_row gt_center">+30.4% – +43.6%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+17.8%</td>
<td headers="ci" class="gt_row gt_center">+12.0% – +23.6%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;+1</td>
<td headers="estimate" class="gt_row gt_center">-2.3%</td>
<td headers="ci" class="gt_row gt_center">-3.5% – -1.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="4">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;23.6:  Contrastes marginaux moyens </div></div>
</div>
</div>
</div>
<p>De même, on peut représenter les contrastes marginaux moyens avec <code><a href="https://larmarange.github.io/ggstats/reference/ggcoef_model.html">ggstats::ggcoef_model()</a></code>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>ggstats<span class="sc">::</span><span class="fu">ggcoef_model</span>(</span>
<span id="cb60-2"><a href="#cb60-2"></a>  mod,</span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_marginal_contrasts</span>
<span id="cb60-4"><a href="#cb60-4"></a>) <span class="sc">+</span></span>
<span id="cb60-5"><a href="#cb60-5"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(</span>
<span id="cb60-6"><a href="#cb60-6"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">style_positive =</span> <span class="st">"plus"</span>)</span>
<span id="cb60-7"><a href="#cb60-7"></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-contrastes-marginaux-moyens" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-contrastes-marginaux-moyens-1.png" class="lightbox" title="Contrastes marginaux moyens" data-gallery="quarto-lightbox-gallery-9"><img src="estimations-marginales_files/figure-html/fig-contrastes-marginaux-moyens-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.9: Contrastes marginaux moyens</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Il est possible de personnaliser le type de contrastes calculés, variable par variable, avec l’option <code>variables_list</code> de <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_marginal_contrasts.html">broom.helpers::tidy_marginal_contrasts()</a></code>. La syntaxe est un peu particulière&nbsp;: il faut transmettre une liste de listes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="#cb61-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb61-3"><a href="#cb61-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_marginal_contrasts,</span>
<span id="cb61-4"><a href="#cb61-4"></a>    <span class="at">variables_list =</span> <span class="fu">list</span>(</span>
<span id="cb61-5"><a href="#cb61-5"></a>      <span class="fu">list</span>(<span class="at">heures.tv =</span> <span class="dv">2</span>),</span>
<span id="cb61-6"><a href="#cb61-6"></a>      <span class="fu">list</span>(<span class="at">groupe_ages =</span> <span class="st">"pairwise"</span>),</span>
<span id="cb61-7"><a href="#cb61-7"></a>      <span class="fu">list</span>(<span class="at">etudes =</span> <span class="st">"sequential"</span>)</span>
<span id="cb61-8"><a href="#cb61-8"></a>    ),</span>
<span id="cb61-9"><a href="#cb61-9"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(</span>
<span id="cb61-10"><a href="#cb61-10"></a>      <span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb61-11"><a href="#cb61-11"></a>      <span class="at">style_positive =</span> <span class="st">"plus"</span></span>
<span id="cb61-12"><a href="#cb61-12"></a>    )</span>
<span id="cb61-13"><a href="#cb61-13"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb61-14"><a href="#cb61-14"></a>  <span class="fu">bold_labels</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="rmdzdxodtf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#rmdzdxodtf) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#rmdzdxodtf) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#rmdzdxodtf) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#rmdzdxodtf) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#rmdzdxodtf) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#rmdzdxodtf) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#rmdzdxodtf) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#rmdzdxodtf) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#rmdzdxodtf) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#rmdzdxodtf) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#rmdzdxodtf) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#rmdzdxodtf) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#rmdzdxodtf) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#rmdzdxodtf) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rmdzdxodtf) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#rmdzdxodtf) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#rmdzdxodtf) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rmdzdxodtf) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#rmdzdxodtf) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rmdzdxodtf) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#rmdzdxodtf) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rmdzdxodtf) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#rmdzdxodtf) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rmdzdxodtf) .gt_left {
  text-align: left;
}

:where(#rmdzdxodtf) .gt_center {
  text-align: center;
}

:where(#rmdzdxodtf) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#rmdzdxodtf) .gt_font_normal {
  font-weight: normal;
}

:where(#rmdzdxodtf) .gt_font_bold {
  font-weight: bold;
}

:where(#rmdzdxodtf) .gt_font_italic {
  font-style: italic;
}

:where(#rmdzdxodtf) .gt_super {
  font-size: 65%;
}

:where(#rmdzdxodtf) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#rmdzdxodtf) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#rmdzdxodtf) .gt_indent_1 {
  text-indent: 5px;
}

:where(#rmdzdxodtf) .gt_indent_2 {
  text-indent: 10px;
}

:where(#rmdzdxodtf) .gt_indent_3 {
  text-indent: 15px;
}

:where(#rmdzdxodtf) .gt_indent_4 {
  text-indent: 20px;
}

:where(#rmdzdxodtf) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Average Marginal Contrasts</strong>"><strong>Average Marginal Contrasts</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-valeur</strong>"><strong>p-valeur</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;+2</td>
<td headers="estimate" class="gt_row gt_center">-4.5%</td>
<td headers="ci" class="gt_row gt_center">-7.0% – -2.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-8.4%</td>
<td headers="ci" class="gt_row gt_center">-18.1% – +1.2%</td>
<td headers="p.value" class="gt_row gt_center">0,086</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-21.3%</td>
<td headers="ci" class="gt_row gt_center">-31.2% – -11.3%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans - 25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">-12.8%</td>
<td headers="ci" class="gt_row gt_center">-17.6% – -8.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-26.3%</td>
<td headers="ci" class="gt_row gt_center">-37.2% – -15.4%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus - 25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">-17.9%</td>
<td headers="ci" class="gt_row gt_center">-24.3% – -11.4%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus - 45-64 ans</td>
<td headers="estimate" class="gt_row gt_center">-5.0%</td>
<td headers="ci" class="gt_row gt_center">-11.0% – +0.9%</td>
<td headers="p.value" class="gt_row gt_center">0,10</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté - Supérieur</td>
<td headers="estimate" class="gt_row gt_center">+6.1%</td>
<td headers="ci" class="gt_row gt_center">-7.0% – +19.2%</td>
<td headers="p.value" class="gt_row gt_center">0,4</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+15.7%</td>
<td headers="ci" class="gt_row gt_center">+9.5% – +21.8%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur - Technique / Professionnel</td>
<td headers="estimate" class="gt_row gt_center">+19.2%</td>
<td headers="ci" class="gt_row gt_center">+13.3% – +25.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel - Secondaire</td>
<td headers="estimate" class="gt_row gt_center">+2.1%</td>
<td headers="ci" class="gt_row gt_center">-3.8% – +8.0%</td>
<td headers="p.value" class="gt_row gt_center">0,5</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="4">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
</div>
</div>
</div>
<p>On peut obtenir le même résultat avec <code>broom.helpers::tidy_avg_comparison()</code> avec une syntaxe un peu plus simple (en passant une liste via <code>variables</code> au lieu d’une liste de listes via <code>variables_list</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb62-2"><a href="#cb62-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb62-3"><a href="#cb62-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_avg_comparisons,</span>
<span id="cb62-4"><a href="#cb62-4"></a>    <span class="at">variables =</span> <span class="fu">list</span>(</span>
<span id="cb62-5"><a href="#cb62-5"></a>      <span class="at">heures.tv =</span> <span class="dv">2</span>,</span>
<span id="cb62-6"><a href="#cb62-6"></a>      <span class="at">groupe_ages =</span> <span class="st">"pairwise"</span>,</span>
<span id="cb62-7"><a href="#cb62-7"></a>      <span class="at">etudes =</span> <span class="st">"sequential"</span></span>
<span id="cb62-8"><a href="#cb62-8"></a>    ),</span>
<span id="cb62-9"><a href="#cb62-9"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(</span>
<span id="cb62-10"><a href="#cb62-10"></a>      <span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb62-11"><a href="#cb62-11"></a>      <span class="at">style_positive =</span> <span class="st">"plus"</span></span>
<span id="cb62-12"><a href="#cb62-12"></a>    )</span>
<span id="cb62-13"><a href="#cb62-13"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb62-14"><a href="#cb62-14"></a>  <span class="fu">bold_labels</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="ufriverwso" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#ufriverwso) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#ufriverwso) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ufriverwso) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#ufriverwso) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#ufriverwso) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#ufriverwso) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ufriverwso) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ufriverwso) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#ufriverwso) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#ufriverwso) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#ufriverwso) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#ufriverwso) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#ufriverwso) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#ufriverwso) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ufriverwso) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#ufriverwso) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#ufriverwso) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#ufriverwso) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ufriverwso) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#ufriverwso) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#ufriverwso) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ufriverwso) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#ufriverwso) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#ufriverwso) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ufriverwso) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ufriverwso) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#ufriverwso) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#ufriverwso) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ufriverwso) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ufriverwso) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ufriverwso) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ufriverwso) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ufriverwso) .gt_left {
  text-align: left;
}

:where(#ufriverwso) .gt_center {
  text-align: center;
}

:where(#ufriverwso) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#ufriverwso) .gt_font_normal {
  font-weight: normal;
}

:where(#ufriverwso) .gt_font_bold {
  font-weight: bold;
}

:where(#ufriverwso) .gt_font_italic {
  font-style: italic;
}

:where(#ufriverwso) .gt_super {
  font-size: 65%;
}

:where(#ufriverwso) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#ufriverwso) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#ufriverwso) .gt_indent_1 {
  text-indent: 5px;
}

:where(#ufriverwso) .gt_indent_2 {
  text-indent: 10px;
}

:where(#ufriverwso) .gt_indent_3 {
  text-indent: 15px;
}

:where(#ufriverwso) .gt_indent_4 {
  text-indent: 20px;
}

:where(#ufriverwso) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Average Marginal Contrasts</strong>"><strong>Average Marginal Contrasts</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-valeur</strong>"><strong>p-valeur</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté - Supérieur</td>
<td headers="estimate" class="gt_row gt_center">+6.1%</td>
<td headers="ci" class="gt_row gt_center">-7.0% – +19.2%</td>
<td headers="p.value" class="gt_row gt_center">0,4</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+15.7%</td>
<td headers="ci" class="gt_row gt_center">+9.5% – +21.8%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur - Technique / Professionnel</td>
<td headers="estimate" class="gt_row gt_center">+19.2%</td>
<td headers="ci" class="gt_row gt_center">+13.3% – +25.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel - Secondaire</td>
<td headers="estimate" class="gt_row gt_center">+2.1%</td>
<td headers="ci" class="gt_row gt_center">-3.8% – +8.0%</td>
<td headers="p.value" class="gt_row gt_center">0,5</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-8.4%</td>
<td headers="ci" class="gt_row gt_center">-18.1% – +1.2%</td>
<td headers="p.value" class="gt_row gt_center">0,086</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-21.3%</td>
<td headers="ci" class="gt_row gt_center">-31.2% – -11.3%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans - 25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">-12.8%</td>
<td headers="ci" class="gt_row gt_center">-17.6% – -8.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-26.3%</td>
<td headers="ci" class="gt_row gt_center">-37.2% – -15.4%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus - 25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">-17.9%</td>
<td headers="ci" class="gt_row gt_center">-24.3% – -11.4%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus - 45-64 ans</td>
<td headers="estimate" class="gt_row gt_center">-5.0%</td>
<td headers="ci" class="gt_row gt_center">-11.0% – +0.9%</td>
<td headers="p.value" class="gt_row gt_center">0,10</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;+2</td>
<td headers="estimate" class="gt_row gt_center">-4.5%</td>
<td headers="ci" class="gt_row gt_center">-7.0% – -2.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="4">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
</div>
</div>
</div>
</div>
</div>
</section><section id="contrastes-marginaux-à-la-moyenne" class="level3 page-columns page-full" data-number="23.4.2"><h3 data-number="23.4.2" class="anchored" data-anchor-id="contrastes-marginaux-à-la-moyenne">
<span class="header-section-number">23.4.2</span> Contrastes marginaux à la moyenne</h3>
<p>Comme précédemment, plutôt que de calculer les contrastes marginaux pour chaque individu observé avant de faire la moyenne des résultats, une approche alternative consiste à considérer un individu <q>moyen</q> / <q>typique</q> et à calculer les contrastes marginaux pour cet individu. On parle alors de <strong>contrastes marginaux à la moyenne</strong> (<em>marginal contrasts at the mean</em>).</p>
<p>Avec <a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a>, il suffit de spécifier <code>newdata = "mean"</code>. Les variables continues seront fixées à leur moyenne et les variables catégorielles à leur mode (modalité la plus fréquente dans l’échantillon).</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb63-2"><a href="#cb63-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb63-3"><a href="#cb63-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_marginal_contrasts,</span>
<span id="cb63-4"><a href="#cb63-4"></a>    <span class="at">newdata =</span> <span class="st">"mean"</span>,</span>
<span id="cb63-5"><a href="#cb63-5"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(</span>
<span id="cb63-6"><a href="#cb63-6"></a>      <span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb63-7"><a href="#cb63-7"></a>      <span class="at">style_positive =</span> <span class="st">"plus"</span></span>
<span id="cb63-8"><a href="#cb63-8"></a>    )</span>
<span id="cb63-9"><a href="#cb63-9"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb63-10"><a href="#cb63-10"></a>  <span class="fu">bold_labels</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="tbl-contrastes-marginaux-à-la-moyenne" class="anchored page-columns page-full">

<div id="lbbgynnads" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#lbbgynnads) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#lbbgynnads) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#lbbgynnads) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#lbbgynnads) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#lbbgynnads) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#lbbgynnads) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#lbbgynnads) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#lbbgynnads) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#lbbgynnads) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#lbbgynnads) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#lbbgynnads) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#lbbgynnads) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#lbbgynnads) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#lbbgynnads) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#lbbgynnads) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#lbbgynnads) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#lbbgynnads) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#lbbgynnads) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#lbbgynnads) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#lbbgynnads) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#lbbgynnads) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#lbbgynnads) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#lbbgynnads) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#lbbgynnads) .gt_left {
  text-align: left;
}

:where(#lbbgynnads) .gt_center {
  text-align: center;
}

:where(#lbbgynnads) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#lbbgynnads) .gt_font_normal {
  font-weight: normal;
}

:where(#lbbgynnads) .gt_font_bold {
  font-weight: bold;
}

:where(#lbbgynnads) .gt_font_italic {
  font-style: italic;
}

:where(#lbbgynnads) .gt_super {
  font-size: 65%;
}

:where(#lbbgynnads) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#lbbgynnads) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#lbbgynnads) .gt_indent_1 {
  text-indent: 5px;
}

:where(#lbbgynnads) .gt_indent_2 {
  text-indent: 10px;
}

:where(#lbbgynnads) .gt_indent_3 {
  text-indent: 15px;
}

:where(#lbbgynnads) .gt_indent_4 {
  text-indent: 20px;
}

:where(#lbbgynnads) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">

  
  <thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Marginal Contrasts at the Mean</strong>"><strong>Marginal Contrasts at the Mean</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-valeur</strong>"><strong>p-valeur</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Sexe</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Homme - Femme</td>
<td headers="estimate" class="gt_row gt_center">+8.4%</td>
<td headers="ci" class="gt_row gt_center">+4.3% – +12.5%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-9.5%</td>
<td headers="ci" class="gt_row gt_center">-20.5% – +1.5%</td>
<td headers="p.value" class="gt_row gt_center">0,090</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-22.9%</td>
<td headers="ci" class="gt_row gt_center">-33.8% – -11.9%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-27.6%</td>
<td headers="ci" class="gt_row gt_center">-39.2% – -16.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+38.8%</td>
<td headers="ci" class="gt_row gt_center">+24.1% – +53.5%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+12.0%</td>
<td headers="ci" class="gt_row gt_center">+7.0% – +17.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+32.2%</td>
<td headers="ci" class="gt_row gt_center">+25.7% – +38.7%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+13.9%</td>
<td headers="ci" class="gt_row gt_center">+9.0% – +18.7%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;+1</td>
<td headers="estimate" class="gt_row gt_center">-2.2%</td>
<td headers="ci" class="gt_row gt_center">-3.4% – -1.0%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="4">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;23.7:  Contrastes marginaux à la moyenne </div></div>
</div>
</div>
</div>
<p>Pour la fonction <code><a href="https://larmarange.github.io/ggstats/reference/ggcoef_model.html">ggstats::ggcoef_model()</a></code>, on utilisera l’argument <code>tidy_args</code> pour transmettre l’option <code>newdata = "mean"</code>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>ggstats<span class="sc">::</span><span class="fu">ggcoef_model</span>(</span>
<span id="cb64-2"><a href="#cb64-2"></a>  mod,</span>
<span id="cb64-3"><a href="#cb64-3"></a>  <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_marginal_contrasts,</span>
<span id="cb64-4"><a href="#cb64-4"></a>  <span class="at">tidy_args =</span> <span class="fu">list</span>(<span class="at">newdata =</span> <span class="st">"mean"</span>)</span>
<span id="cb64-5"><a href="#cb64-5"></a>) <span class="sc">+</span></span>
<span id="cb64-6"><a href="#cb64-6"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(</span>
<span id="cb64-7"><a href="#cb64-7"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">style_positive =</span> <span class="st">"plus"</span>)</span>
<span id="cb64-8"><a href="#cb64-8"></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-contrastes-marginaux-a-la-moyenne" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-contrastes-marginaux-a-la-moyenne-1.png" class="lightbox" title="Contrastes marginaux à la moyenne" data-gallery="quarto-lightbox-gallery-10"><img src="estimations-marginales_files/figure-html/fig-contrastes-marginaux-a-la-moyenne-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.10: Contrastes marginaux à la moyenne</figcaption><p></p>
</figure>
</div>
</div>
</div>
</section></section><section id="pentes-marginales-effets-marginaux" class="level2 page-columns page-full" data-number="23.5"><h2 data-number="23.5" class="anchored" data-anchor-id="pentes-marginales-effets-marginaux">
<span class="header-section-number">23.5</span> Pentes marginales / Effets marginaux</h2>
<p>Les effets marginaux, ou plus précisément les pentes marginales, sont similaires aux contrastes marginaux, avec un différence subtile. Pour une variable continue, les contrastes marginaux sont une différence entre deux prédictions tandis que les <strong>effets marginaux</strong> (<em>marginal effects</em>) ou <strong>pentes marginales</strong> (<em>marginal slopes</em>). Dis autrement, l’effect marginal d’un régresseur continu <span class="math inline">\(x\)</span> est la pente / dérivée <span class="math inline">\({\partial y}/{\partial x}\)</span> la fonction de prédiction <span class="math inline">\(y\)</span>, mesurée à des valeurs spécifiques de <span class="math inline">\(x\)</span>.</p>
<p>Les effets marginaux sont le plus souvent calculés selon l’échelle de l’<em>outcome</em> et représentent le changement attendu de l’<em>outcome</em> pour une augmentation du régresseur d’une unité.</p>
<p>Par définition, les effets marginaux ne sont pas définis pour les variables catégorielles. La plupart des fonctions rapportent, à la place, les contrastes marginaux pour ces variables catégorielles.</p>
<p>Comme pour les prédictions marginales et les contrastes marginaux, plusieurs approches existent (voir par exemple la <a href="https://vincentarelbundock.github.io/marginaleffects/articles/slopes.html">vignette dédiée</a> du package <a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a>).</p>
<section id="pentes-marginales-moyennes-effets-marginaux-moyens" class="level3 page-columns page-full" data-number="23.5.1"><h3 data-number="23.5.1" class="anchored" data-anchor-id="pentes-marginales-moyennes-effets-marginaux-moyens">
<span class="header-section-number">23.5.1</span> Pentes marginales moyennes / Effets marginaux moyens</h3>
<p>Les <strong>effets marginaux moyens</strong> (<em>average marginal effects</em>) sont calculés en deux temps&nbsp;: (1) un effet marginal est calculé pour chaque individu observé dans le modèle&nbsp;; (ii) puis la moyenne de ces effets individuels est calculée.</p>
<p>On aura tout simplement recours à la fonction <code><a href="https://rdrr.io/pkg/marginaleffects/man/slopes.html">marginaleffects::avg_slopes()</a></code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="fu">avg_slopes</span>(mod)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        Term                             Contrast Estimate Std. Error     z
 etudes      Non documenté - Primaire               0.4309     0.0691  6.23
 etudes      Secondaire - Primaire                  0.1568     0.0314  4.99
 etudes      Supérieur - Primaire                   0.3701     0.0337 10.98
 etudes      Technique / Professionnel - Primaire   0.1781     0.0295  6.04
 groupe_ages 25-44 ans - 18-24 ans                 -0.0844     0.0492 -1.71
 groupe_ages 45-64 ans - 18-24 ans                 -0.2127     0.0507 -4.20
 groupe_ages 65 ans et plus - 18-24 ans            -0.2631     0.0556 -4.73
 heures.tv   dY/dX                                 -0.0227     0.0062 -3.66
 sexe        Homme - Femme                          0.0788     0.0197  4.00
 Pr(&gt;|z|)   2.5 %  97.5 %
   &lt;0.001  0.2954  0.5665
   &lt;0.001  0.0952  0.2184
   &lt;0.001  0.3040  0.4361
   &lt;0.001  0.1203  0.2359
   0.0865 -0.1808  0.0121
   &lt;0.001 -0.3121 -0.1133
   &lt;0.001 -0.3720 -0.1541
   &lt;0.001 -0.0348 -0.0105
   &lt;0.001  0.0402  0.1175

Columns: term, contrast, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
</div>
<p>Pour un usage avec <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_plus_plus.html">broom.helpers::tidy_plus_plus()</a></code>, <code><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_regression.html">gtsummary::tbl_regression()</a></code> ou <code><a href="https://larmarange.github.io/ggstats/reference/ggcoef_model.html">ggstats::ggcoef_model()</a></code>, on utilisera <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_avg_slopes.html">broom.helpers::tidy_avg_slopes()</a></code>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb67-2"><a href="#cb67-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb67-3"><a href="#cb67-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_avg_slopes,</span>
<span id="cb67-4"><a href="#cb67-4"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(</span>
<span id="cb67-5"><a href="#cb67-5"></a>      <span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb67-6"><a href="#cb67-6"></a>      <span class="at">style_positive =</span> <span class="st">"plus"</span></span>
<span id="cb67-7"><a href="#cb67-7"></a>    )</span>
<span id="cb67-8"><a href="#cb67-8"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb67-9"><a href="#cb67-9"></a>  <span class="fu">bold_labels</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="tbl-effets-marginaux-moyens" class="anchored page-columns page-full">

<div id="egdcbycehj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#egdcbycehj) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#egdcbycehj) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#egdcbycehj) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#egdcbycehj) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#egdcbycehj) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#egdcbycehj) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#egdcbycehj) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#egdcbycehj) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#egdcbycehj) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#egdcbycehj) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#egdcbycehj) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#egdcbycehj) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#egdcbycehj) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#egdcbycehj) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#egdcbycehj) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#egdcbycehj) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#egdcbycehj) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#egdcbycehj) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#egdcbycehj) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#egdcbycehj) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#egdcbycehj) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#egdcbycehj) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#egdcbycehj) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#egdcbycehj) .gt_left {
  text-align: left;
}

:where(#egdcbycehj) .gt_center {
  text-align: center;
}

:where(#egdcbycehj) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#egdcbycehj) .gt_font_normal {
  font-weight: normal;
}

:where(#egdcbycehj) .gt_font_bold {
  font-weight: bold;
}

:where(#egdcbycehj) .gt_font_italic {
  font-style: italic;
}

:where(#egdcbycehj) .gt_super {
  font-size: 65%;
}

:where(#egdcbycehj) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#egdcbycehj) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#egdcbycehj) .gt_indent_1 {
  text-indent: 5px;
}

:where(#egdcbycehj) .gt_indent_2 {
  text-indent: 10px;
}

:where(#egdcbycehj) .gt_indent_3 {
  text-indent: 15px;
}

:where(#egdcbycehj) .gt_indent_4 {
  text-indent: 20px;
}

:where(#egdcbycehj) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">

  
  <thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Average Marginal Effects</strong>"><strong>Average Marginal Effects</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-valeur</strong>"><strong>p-valeur</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+43.1%</td>
<td headers="ci" class="gt_row gt_center">+29.5% – +56.6%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+15.7%</td>
<td headers="ci" class="gt_row gt_center">+9.5% – +21.8%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+37.0%</td>
<td headers="ci" class="gt_row gt_center">+30.4% – +43.6%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel - Primaire</td>
<td headers="estimate" class="gt_row gt_center">+17.8%</td>
<td headers="ci" class="gt_row gt_center">+12.0% – +23.6%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-8.4%</td>
<td headers="ci" class="gt_row gt_center">-18.1% – +1.2%</td>
<td headers="p.value" class="gt_row gt_center">0,086</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-21.3%</td>
<td headers="ci" class="gt_row gt_center">-31.2% – -11.3%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus - 18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">-26.3%</td>
<td headers="ci" class="gt_row gt_center">-37.2% – -15.4%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;dY/dX</td>
<td headers="estimate" class="gt_row gt_center">-2.3%</td>
<td headers="ci" class="gt_row gt_center">-3.5% – -1.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Sexe</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Homme - Femme</td>
<td headers="estimate" class="gt_row gt_center">+7.9%</td>
<td headers="ci" class="gt_row gt_center">+4.0% – +11.7%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="4">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;23.8:  Effets marginaux moyens </div></div>
</div>
</div>
</div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>ggstats<span class="sc">::</span><span class="fu">ggcoef_model</span>(</span>
<span id="cb68-2"><a href="#cb68-2"></a>  mod,</span>
<span id="cb68-3"><a href="#cb68-3"></a>  <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_avg_slopes</span>
<span id="cb68-4"><a href="#cb68-4"></a>) <span class="sc">+</span></span>
<span id="cb68-5"><a href="#cb68-5"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(</span>
<span id="cb68-6"><a href="#cb68-6"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">style_positive =</span> <span class="st">"plus"</span>)</span>
<span id="cb68-7"><a href="#cb68-7"></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-effets-marginaux-moyens" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-effets-marginaux-moyens-1.png" class="lightbox" title="Effets marginaux moyens" data-gallery="quarto-lightbox-gallery-11"><img src="estimations-marginales_files/figure-html/fig-effets-marginaux-moyens-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.11: Effets marginaux moyens</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Un résultat similaire peut être obtenu avec <code><a href="https://rdrr.io/pkg/margins/man/margins.html">margins::margins()</a></code>, le package <a href="https://github.com/leeper/margins">margins</a> s’inspirant de la commande <strong>Stata</strong> <code>margins</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>margins<span class="sc">::</span><span class="fu">margins</span>(mod) <span class="sc">%&gt;%</span> <span class="fu">tidy</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 5
  term                            estimate std.error statistic  p.value
  &lt;chr&gt;                              &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 etudesNon documenté               0.431    0.0691       6.23 4.60e-10
2 etudesSecondaire                  0.157    0.0314       4.99 6.10e- 7
3 etudesSupérieur                   0.370    0.0337      11.0  4.69e-28
4 etudesTechnique / Professionnel   0.178    0.0295       6.04 1.53e- 9
5 groupe_ages25-44 ans             -0.0844   0.0492      -1.71 8.65e- 2
6 groupe_ages45-64 ans             -0.213    0.0507      -4.20 2.73e- 5
7 groupe_ages65 ans et plus        -0.263    0.0556      -4.73 2.21e- 6
8 heures.tv                        -0.0227   0.00620     -3.66 2.56e- 4
9 sexeHomme                         0.0788   0.0197       4.00 6.26e- 5</code></pre>
</div>
</div>
<p>For <a href="https://larmarange.github.io/broom.helpers/">broom.helpers</a>, <a href="https://github.com/ddsjoberg/gtsummary">gtsummary</a> or <a href="https://larmarange.github.io/ggstats/">ggstats</a>, use <code><a href="https://larmarange.github.io/broom.helpers/reference/tidy_margins.html">broom.helpers::tidy_margins()</a></code>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>mod <span class="sc">|&gt;</span> </span>
<span id="cb71-2"><a href="#cb71-2"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb71-3"><a href="#cb71-3"></a>    <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_margins,</span>
<span id="cb71-4"><a href="#cb71-4"></a>    <span class="at">estimate_fun =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(</span>
<span id="cb71-5"><a href="#cb71-5"></a>      <span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb71-6"><a href="#cb71-6"></a>      <span class="at">style_positive =</span> <span class="st">"plus"</span></span>
<span id="cb71-7"><a href="#cb71-7"></a>    )</span>
<span id="cb71-8"><a href="#cb71-8"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb71-9"><a href="#cb71-9"></a>  <span class="fu">bold_labels</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="tbl-effets-marginaux-moyens-margins" class="anchored page-columns page-full">

<div id="zolgldjdht" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#zolgldjdht) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#zolgldjdht) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#zolgldjdht) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#zolgldjdht) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#zolgldjdht) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#zolgldjdht) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#zolgldjdht) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#zolgldjdht) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#zolgldjdht) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#zolgldjdht) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#zolgldjdht) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#zolgldjdht) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#zolgldjdht) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#zolgldjdht) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zolgldjdht) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#zolgldjdht) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#zolgldjdht) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zolgldjdht) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#zolgldjdht) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zolgldjdht) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#zolgldjdht) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zolgldjdht) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#zolgldjdht) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zolgldjdht) .gt_left {
  text-align: left;
}

:where(#zolgldjdht) .gt_center {
  text-align: center;
}

:where(#zolgldjdht) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#zolgldjdht) .gt_font_normal {
  font-weight: normal;
}

:where(#zolgldjdht) .gt_font_bold {
  font-weight: bold;
}

:where(#zolgldjdht) .gt_font_italic {
  font-style: italic;
}

:where(#zolgldjdht) .gt_super {
  font-size: 65%;
}

:where(#zolgldjdht) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#zolgldjdht) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#zolgldjdht) .gt_indent_1 {
  text-indent: 5px;
}

:where(#zolgldjdht) .gt_indent_2 {
  text-indent: 10px;
}

:where(#zolgldjdht) .gt_indent_3 {
  text-indent: 15px;
}

:where(#zolgldjdht) .gt_indent_4 {
  text-indent: 20px;
}

:where(#zolgldjdht) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">

  
  <thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Caractéristique</strong>"><strong>Caractéristique</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Average Marginal Effects</strong>"><strong>Average Marginal Effects</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% IC</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>">
<strong>95% IC</strong><sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-valeur</strong>"><strong>p-valeur</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Niveau d'études</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primaire</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Non documenté</td>
<td headers="estimate" class="gt_row gt_center">+43.1%</td>
<td headers="ci" class="gt_row gt_center">+29.5% – +56.6%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Secondaire</td>
<td headers="estimate" class="gt_row gt_center">+15.7%</td>
<td headers="ci" class="gt_row gt_center">+9.5% – +21.8%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Supérieur</td>
<td headers="estimate" class="gt_row gt_center">+37.0%</td>
<td headers="ci" class="gt_row gt_center">+30.4% – +43.6%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Technique / Professionnel</td>
<td headers="estimate" class="gt_row gt_center">+17.8%</td>
<td headers="ci" class="gt_row gt_center">+12.0% – +23.6%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Groupe d'âges</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;18-24 ans</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;25-44 ans</td>
<td headers="estimate" class="gt_row gt_center">-8.4%</td>
<td headers="ci" class="gt_row gt_center">-18.1% – +1.2%</td>
<td headers="p.value" class="gt_row gt_center">0,086</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-64 ans</td>
<td headers="estimate" class="gt_row gt_center">-21.3%</td>
<td headers="ci" class="gt_row gt_center">-31.2% – -11.3%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 ans et plus</td>
<td headers="estimate" class="gt_row gt_center">-26.3%</td>
<td headers="ci" class="gt_row gt_center">-37.2% – -15.4%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Heures de télévision / jour</td>
<td headers="estimate" class="gt_row gt_center">-2.3%</td>
<td headers="ci" class="gt_row gt_center">-3.5% – -1.1%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left" style="font-weight: bold;">Sexe</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Femme</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Homme</td>
<td headers="estimate" class="gt_row gt_center">+7.9%</td>
<td headers="ci" class="gt_row gt_center">+4.0% – +11.7%</td>
<td headers="p.value" class="gt_row gt_center">&lt;0,001</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="4">
<sup class="gt_footnote_marks">1</sup> IC = intervalle de confiance</td>
    </tr></tfoot>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;23.9:  Effets marginaux moyens avec margins </div></div>
</div>
</div>
</div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>ggstats<span class="sc">::</span><span class="fu">ggcoef_model</span>(</span>
<span id="cb72-2"><a href="#cb72-2"></a>  mod,</span>
<span id="cb72-3"><a href="#cb72-3"></a>  <span class="at">tidy_fun =</span> broom.helpers<span class="sc">::</span>tidy_margins</span>
<span id="cb72-4"><a href="#cb72-4"></a>) <span class="sc">+</span></span>
<span id="cb72-5"><a href="#cb72-5"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(</span>
<span id="cb72-6"><a href="#cb72-6"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">style_positive =</span> <span class="st">"plus"</span>)</span>
<span id="cb72-7"><a href="#cb72-7"></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-effets-marginaux-moyens-margins" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full"><p><a href="estimations-marginales_files/figure-html/fig-effets-marginaux-moyens-margins-1.png" class="lightbox" title="Effets marginaux moyens avec margins" data-gallery="quarto-lightbox-gallery-12"><img src="estimations-marginales_files/figure-html/fig-effets-marginaux-moyens-margins-1.png" class="img-fluid figure-img" width="672"></a></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;23.12: Effets marginaux moyens avec margins</figcaption><p></p>
</figure>
</div>
</div>
</div>
</section><section id="pentes-marginales-à-la-moyenne-effets-marginaux-à-la-moyenne" class="level3" data-number="23.5.2"><h3 data-number="23.5.2" class="anchored" data-anchor-id="pentes-marginales-à-la-moyenne-effets-marginaux-à-la-moyenne">
<span class="header-section-number">23.5.2</span> Pentes marginales à la moyenne / Effets marginaux à la moyenne</h3>
<p>Pour les <strong>effets marginaux à la moyenne</strong> (<em>marginal effect at the mean</em>), simplement indiquer <code>newdata = "mean"</code> à <code>broom.helpers::tidy_marginaleffects()</code>.</p>
</section></section><section id="lectures-complémenaires-en-anglais" class="level2" data-number="23.6"><h2 data-number="23.6" class="anchored" data-anchor-id="lectures-complémenaires-en-anglais">
<span class="header-section-number">23.6</span> Lectures complémenaires (en anglais)</h2>
<ul>
<li>
<a href="https://vincentarelbundock.github.io/marginaleffects/">Documentation of the <code>marginaleffects</code> package</a> par Vincent Arel-Bundock</li>
<li>
<a href="https://www.andrewheiss.com/blog/2022/05/20/marginalia/">Marginalia: A guide to figuring out what the heck marginal effects, marginal slopes, average marginal effects, marginal effects at the mean, and all these other marginal things are</a> par Andrew Heiss</li>
<li>
<a href="https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html">Introduction to Adjusted Predictions and Marginal Effects in R</a> par Daniel Lüdecke</li>
<li><a href="https://cran.r-project.org/web/packages/margins/vignettes/Introduction.html">An Introduction to <code>margins</code></a></li>
<li><a href="https://larmarange.github.io/broom.helpers/articles/marginal_tidiers.html">Marginal effects / slopes, contrasts, means and predictions with broom.helpers</a></li>
</ul>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><script src="https://giscus.app/client.js" data-repo="larmarange/guide-R" data-repo-id="R_kgDOH6-xnw" data-category="Forum" data-category-id="DIC_kwDOH6-xn84CRLQy" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="fr" crossorigin="anonymous" data-loading="lazy" async="">
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../analyses/regression-logistique-binaire.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Régression logistique binaire</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../analyses/contrastes.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Contrastes (variables catégorielles)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
 guide-R : Guide pour l'analyse de données d'enquêtes avec R
  </li>  
</ul>
</div>   
      <div class="nav-footer-center"><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
      <i class="bi bi-badge-cc-fill" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link active" href="https://github.com/larmarange/guide-R/" aria-current="page">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/c/webinR">
      <i class="bi bi-youtube" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://larmarange.github.io/analyse-R/">analyse-R</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://larmarange.github.io/webin-R/">webin-R</a>
  </li>  
</ul>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","openEffect":"zoom","descPosition":"bottom","selector":".lightbox","loop":true});</script>


<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>